<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt" xml:lang="pt"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Descrevendo os dados – Bioestatística Usando o R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./07-probabilidades.html" rel="next">
<link href="./05-manipulandoDados.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-8da5b4427184b79ecddefad3d342027e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nenhum resultado",
    "search-matching-documents-text": "documentos correspondentes",
    "search-copy-link-title": "Copiar link para a busca",
    "search-hide-matches-text": "Esconder correspondências adicionais",
    "search-more-match-text": "mais correspondência neste documento",
    "search-more-matches-text": "mais correspondências neste documento",
    "search-clear-button-title": "Limpar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Procurar"
  }
}</script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>

<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./06-descrevendoDados.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Descrevendo os dados</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Procurar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Bioestatística Usando o R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Procurar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefácio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introdução</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-dados.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Natureza dos Dados</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-producaoDados.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Produção dos Dados</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-ambienteR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Ambiente do <em>R</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-manipulandoDados.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Manipulando os dados no <em>RStudio</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-descrevendoDados.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Descrevendo os dados</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-probabilidades.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Introdução à Teoria das Probabilidades</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-assimetria_curtose.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Assimetria e Curtose</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-distAmostrais.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Distribuições Amostrais</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-estimacao.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Estimação</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-testeHipoteses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Teste de Hipóteses</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Índice</h2>
   
  <ul>
  <li><a href="#pacotes-necessários-neste-capítulo" id="toc-pacotes-necessários-neste-capítulo" class="nav-link active" data-scroll-target="#pacotes-necessários-neste-capítulo"><span class="header-section-number">6.1</span> Pacotes necessários neste capítulo</a></li>
  <li><a href="#dados-brutos" id="toc-dados-brutos" class="nav-link" data-scroll-target="#dados-brutos"><span class="header-section-number">6.2</span> Dados brutos</a></li>
  <li><a href="#medidas-resumidoras" id="toc-medidas-resumidoras" class="nav-link" data-scroll-target="#medidas-resumidoras"><span class="header-section-number">6.3</span> Medidas resumidoras</a>
  <ul class="collapse">
  <li><a href="#dados-usados-nesta-seção" id="toc-dados-usados-nesta-seção" class="nav-link" data-scroll-target="#dados-usados-nesta-seção"><span class="header-section-number">6.3.1</span> Dados usados nesta seção</a></li>
  <li><a href="#introdução" id="toc-introdução" class="nav-link" data-scroll-target="#introdução"><span class="header-section-number">6.3.2</span> Introdução</a></li>
  <li><a href="#medidas-de-tendência-central" id="toc-medidas-de-tendência-central" class="nav-link" data-scroll-target="#medidas-de-tendência-central"><span class="header-section-number">6.3.3</span> Medidas de tendência central</a></li>
  <li><a href="#medidas-de-dispersão" id="toc-medidas-de-dispersão" class="nav-link" data-scroll-target="#medidas-de-dispersão"><span class="header-section-number">6.3.4</span> Medidas de Dispersão</a></li>
  <li><a href="#escolha-da-medida-resumidora" id="toc-escolha-da-medida-resumidora" class="nav-link" data-scroll-target="#escolha-da-medida-resumidora"><span class="header-section-number">6.3.5</span> Escolha da medida resumidora</a></li>
  </ul></li>
  <li><a href="#sec-tabelas" id="toc-sec-tabelas" class="nav-link" data-scroll-target="#sec-tabelas"><span class="header-section-number">6.4</span> Tabelas</a>
  <ul class="collapse">
  <li><a href="#dados-usados-nesta-seção-1" id="toc-dados-usados-nesta-seção-1" class="nav-link" data-scroll-target="#dados-usados-nesta-seção-1"><span class="header-section-number">6.4.1</span> Dados usados nesta seção</a></li>
  <li><a href="#sec-freq" id="toc-sec-freq" class="nav-link" data-scroll-target="#sec-freq"><span class="header-section-number">6.4.2</span> Tabelas de Frequência</a></li>
  <li><a href="#tabelas-de-contingência" id="toc-tabelas-de-contingência" class="nav-link" data-scroll-target="#tabelas-de-contingência"><span class="header-section-number">6.4.3</span> Tabelas de contingência</a></li>
  </ul></li>
  <li><a href="#gráficos" id="toc-gráficos" class="nav-link" data-scroll-target="#gráficos"><span class="header-section-number">6.5</span> Gráficos</a>
  <ul class="collapse">
  <li><a href="#gráfico-de-setores" id="toc-gráfico-de-setores" class="nav-link" data-scroll-target="#gráfico-de-setores"><span class="header-section-number">6.5.1</span> Gráfico de setores</a></li>
  <li><a href="#gráfico-de-barras" id="toc-gráfico-de-barras" class="nav-link" data-scroll-target="#gráfico-de-barras"><span class="header-section-number">6.5.2</span> Gráfico de barras</a></li>
  <li><a href="#sec-errorbar" id="toc-sec-errorbar" class="nav-link" data-scroll-target="#sec-errorbar"><span class="header-section-number">6.5.3</span> Gráfico de barra de erro</a></li>
  <li><a href="#sec-histograma" id="toc-sec-histograma" class="nav-link" data-scroll-target="#sec-histograma"><span class="header-section-number">6.5.4</span> Histograma</a></li>
  <li><a href="#sec-bxp" id="toc-sec-bxp" class="nav-link" data-scroll-target="#sec-bxp"><span class="header-section-number">6.5.5</span> Boxplot</a></li>
  <li><a href="#gráfico-de-dispersão" id="toc-gráfico-de-dispersão" class="nav-link" data-scroll-target="#gráfico-de-dispersão"><span class="header-section-number">6.5.6</span> Gráfico de Dispersão</a></li>
  </ul></li>
  <li><a href="#sec-ggplot2" id="toc-sec-ggplot2" class="nav-link" data-scroll-target="#sec-ggplot2"><span class="header-section-number">6.6</span> Introdução ao <code>ggplot2</code></a>
  <ul class="collapse">
  <li><a href="#principais-gráficos-usando-ggplot2" id="toc-principais-gráficos-usando-ggplot2" class="nav-link" data-scroll-target="#principais-gráficos-usando-ggplot2"><span class="header-section-number">6.6.1</span> Principais gráficos usando <code>ggplot2</code></a></li>
  <li><a href="#modificação-dos-eixos-do-gráfico" id="toc-modificação-dos-eixos-do-gráfico" class="nav-link" data-scroll-target="#modificação-dos-eixos-do-gráfico"><span class="header-section-number">6.6.2</span> Modificação dos eixos do gráfico</a></li>
  <li><a href="#sec-cores" id="toc-sec-cores" class="nav-link" data-scroll-target="#sec-cores"><span class="header-section-number">6.6.3</span> Modificação das cores</a></li>
  <li><a href="#mudança-dos-temas" id="toc-mudança-dos-temas" class="nav-link" data-scroll-target="#mudança-dos-temas"><span class="header-section-number">6.6.4</span> Mudança dos temas</a></li>
  <li><a href="#estudo-de-caso-gráfico-de-barra-de-erro" id="toc-estudo-de-caso-gráfico-de-barra-de-erro" class="nav-link" data-scroll-target="#estudo-de-caso-gráfico-de-barra-de-erro"><span class="header-section-number">6.6.5</span> Estudo de caso: Gráfico de barra de erro</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Descrevendo os dados</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Nos relatórios ou artigos científicos, a comunicação dos resultados é feita através da combinação de medidas resumidoras e visualização dos dados por meio de tabelas e gráficos.</p>
<section id="pacotes-necessários-neste-capítulo" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="pacotes-necessários-neste-capítulo"><span class="header-section-number">6.1</span> Pacotes necessários neste capítulo</h2>
<p>Para trabalhar neste capítulo, serão necessários os seguintes pacotes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(dplyr,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               DescTools,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>               ggplot2, </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>               ggpubr, </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>               ggsci, </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>               grDevices, </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>               Hmisc, </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>               kableExtra, </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>               knitr, </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>               plotrix, </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>               readxl, </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>               scales)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dados-brutos" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="dados-brutos"><span class="header-section-number">6.2</span> Dados brutos</h2>
<p>Habitualmente, costuma-se armazenar os dados em bancos de dados (<em>dataframes</em> ou <em>tibbles</em>). Entretanto, eles estão registrados de forma aleatória e não classificada. Ao se visualizar um dataframe, é difícil responder perguntas em relação a qualquer variável, principalmente, em grandes banco de dados. Eles se constituem uma lista, um rol de valores colocados na ordem em que foram obtidos. Parecem um jogo de quebra cabeça antes de serem organizados e resumidos (<a href="#fig-babel" class="quarto-xref">Figura&nbsp;<span>6.1</span></a>)! São denominados de <em>dados brutos</em> ou, também, de dados não agrupados.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-babel" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-babel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://imgur.com/MrhPiiG.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-babel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.1: Quebra-cabeça da Torre de Babel (pintura de Pieter Bruegel, 1563)
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="medidas-resumidoras" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="medidas-resumidoras"><span class="header-section-number">6.3</span> Medidas resumidoras</h2>
<section id="dados-usados-nesta-seção" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="dados-usados-nesta-seção"><span class="header-section-number">6.3.1</span> Dados usados nesta seção</h3>
<p>Para a demonstração prática será usado um conjunto de dados que é uma amostra aleatória de 15 recém-nascidos do banco de dados <code>dadosMater.xlsx</code> (ver <a href="05-manipulandoDados.html#sec-mater" class="quarto-xref"><span>Seção 5.3</span></a>), extraída com a função <code>slice_sample()</code> do pacote <code>dplyr</code>. Cada vez que este comando for reproduzido, retornará uma nova série de 15 valores diferentes do anterior. Para tornar o código reproduzível, retornando o mesmo conjunto de valores, deve-se usar uma “semente” (<code>seed</code>), usando a função <code>set.seed()</code>, cujo argumento é um número que identificará a série gerada. Após extrair a amostra, serão selecionadas as variáveis usadas nesta seção. A amostra será atribuída a um objeto denominado, <code>dados</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>) </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"dados/dadosMater.xlsx"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ig<span class="sc">&gt;=</span> <span class="dv">37</span> <span class="sc">&amp;</span> ig<span class="sc">&lt;</span><span class="dv">42</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(idadeMae, anosEst, pesoRN, apgar1) <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n=</span><span class="dv">15</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dados) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [15 × 4] (S3: tbl_df/tbl/data.frame)
 $ idadeMae: num [1:15] 23 26 18 25 35 19 20 23 26 35 ...
 $ anosEst : num [1:15] 5 9 7 10 11 9 10 11 4 5 ...
 $ pesoRN  : num [1:15] 3190 3715 2555 3795 2970 ...
 $ apgar1  : num [1:15] 9 7 9 6 8 8 8 8 9 9 ...</code></pre>
</div>
</div>
<p>Após a manipulação dos dados, tem-se um <em>tibble</em> de 15 linhas e quatro colunas.</p>
</section>
<section id="introdução" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="introdução"><span class="header-section-number">6.3.2</span> Introdução</h3>
<p>Sempre que se está diante de um novo conjunto de dados para analisar, uma das primeiras tarefas é encontrar maneiras de resumir os dados de forma compacta e fácil de entender. Este processo se constitui na <strong>estatística descritiva</strong> que compreende métodos de tabulação, gráficos e resumo dos dados. Nesta seção, serão verificadas as medidas de resumo dos dados de duas maneiras:</p>
<ul>
<li>Primeiro, um valor em torno do qual os dados têm uma tendência para se reunir ou se agrupar, denominado de <strong>medida sumária de localização</strong> ou <strong>medida de tendência central</strong>.</li>
<li>Em segundo lugar, um valor que mede o grau em que os dados se dispersam, denominado de <strong>medida de dispersão</strong> ou <strong>variabilidade</strong></li>
</ul>
</section>
<section id="medidas-de-tendência-central" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="medidas-de-tendência-central"><span class="header-section-number">6.3.3</span> Medidas de tendência central</h3>
<section id="média" class="level4" data-number="6.3.3.1">
<h4 data-number="6.3.3.1" class="anchored" data-anchor-id="média"><span class="header-section-number">6.3.3.1</span> Média</h4>
<p>A média ( <span class="math inline">\(\overline{x}\)</span> ) é a mais usada medida de tendência central para representar um valor típico dentro de um conjunto de números. O conceito mais comum é a <strong>média aritmética</strong>, que se calcula somando todos os valores do conjunto e dividindo pelo número total de elementos. A média é mais adequada para medidas numéricas simétricas, pois ela é sensível aos valores extremos (<em>outliers</em>).</p>
<p><span class="math display">\[
\overline{x}= \frac{\sum(x_1 + x_2 + x_3 + ... + x_n)}{n}
\]</span></p>
<p>O <em>R</em> base possui uma função para o cálculo da média, <code>mean()</code>, apresentada na <a href="04-ambienteR.html#sec-funcoes" class="quarto-xref"><span>Seção 4.8</span></a>, onde foi mostrado os seus argumentos. Se a variável analisada contiver algum valor ausente (<em>missing</em>), deve-se usar o argumento <code>na.rm = TRUE</code>, para removê-los, pois, caso contrário, a função retorna um resultado como NA (<em>Not Available</em>). Para evitar transtornos, recomenta-se usar sempre o argumento.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span> (dados<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3307.667</code></pre>
</div>
</div>
<p>Para reduzir o número de dígitos decimais, na saída do resultado, pode-se colocar a função <code>mean()</code>, dentro da função <code>round()</code><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, atribuindo o resultado da função a um objeto, por exemplo <code>media</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>media <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">mean</span> (dados<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(media)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3307.7</code></pre>
</div>
</div>
<p>Ou, usar a função <code>round()</code>, separadamente:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>media <span class="ot">&lt;-</span> <span class="fu">mean</span> (dados<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(media, <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3307.7</code></pre>
</div>
</div>
</section>
<section id="mediana" class="level4" data-number="6.3.3.2">
<h4 data-number="6.3.3.2" class="anchored" data-anchor-id="mediana"><span class="header-section-number">6.3.3.2</span> Mediana</h4>
<p>A mediana (Md) representa o valor central em uma série ordenada de valores. Assim, metade dos valores será igual ou menor que o valor mediano e a outra metade igual ou maior do que ele. Para encontrar a média:</p>
<ul>
<li>Ordene o conjunto de dados, por exemplo, a variável <code>dados$pesoRN</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>valores_ordenados <span class="ot">&lt;-</span> <span class="fu">sort</span>(dados<span class="sc">$</span>pesoRN)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(valores_ordenados)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2285 2555 2965 2970 3185 3190 3220 3500 3570 3585 3645 3710 3715 3725 3795</code></pre>
</div>
</div>
<ul>
<li><p>Se o número de valores no conjunto de dados for ímpar, a mediana é o valor do meio. No exemplo, tem-se 15 valores, onde o valor do meio é o 7º valor e, portanto, a mediana é igual a 3220 g.</p></li>
<li><p>Se o número de valores no conjunto de dados for par, a mediana é a média dos dois valores do meio. Apenas como exemplo, para se obter um número par de valores, será eliminado o 15º valor da variável <code>dados$pesoRN</code>:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>valores_ordenados_pares <span class="ot">&lt;-</span> valores_ordenados [<span class="sc">-</span><span class="dv">15</span>]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(valores_ordenados_pares)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2285 2555 2965 2970 3185 3190 3220 3500 3570 3585 3645 3710 3715 3725</code></pre>
</div>
</div>
<p>Assim, a mediana será igual a média do 7º e 8º e igual a 3360 g.</p>
<p>É bem fácil de se calcular a mediana quando o número de observações é pequeno. Entretanto, quando se tem um número grande de valores seria extremamente tedioso esse calculo. O <em>R</em> facilita esse trabalho, fornecendo a função <code>median()</code>.</p>
<p>Agora, será usada a variável <code>apgar1</code> do arquivo <code>dadosMater.xlsx</code>. Como o Apgar é um escore, a medida resumidora mais adequada, realmente, é a mediana.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"dados/dadosMater.xlsx"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ig<span class="sc">&gt;=</span> <span class="dv">37</span> <span class="sc">&amp;</span> ig<span class="sc">&lt;</span><span class="dv">42</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(idadeMae, anosEst, pesoRN, apgar1)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span> (mater<span class="sc">$</span>apgar1, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
</section>
<section id="moda" class="level4" data-number="6.3.3.3">
<h4 data-number="6.3.3.3" class="anchored" data-anchor-id="moda"><span class="header-section-number">6.3.3.3</span> Moda</h4>
<p>Moda (Mo) é o valor que ocorre com maior frequência em um conjunto de dados. O <em>R</em> não possui uma função nativa e direta para calcular a moda como tem para a média (<code>mean()</code>) e a mediana (<code>median()</code>). Isso acontece porque a moda pode não ser única em um conjunto de dados (podem existir múltiplos valores com a mesma frequência máxima) ou pode nem existir (se todos os valores ocorrerem apenas uma vez).Tem o menor nível de sofisticação. No entanto, pode-se facilmente criar uma função própria para calcular a moda ou usar pacotes que oferecem essa funcionalidade, como o <code>DescTools</code> que oferece uma função chamada <code>Mode()</code>. Aqui estão algumas maneiras de calcular a moda em R:</p>
<p><strong>Função personalizada</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>moda <span class="ot">&lt;-</span> <span class="cf">function</span>(v) {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  freq_tab <span class="ot">&lt;-</span> <span class="fu">table</span>(v)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  max_freq <span class="ot">&lt;-</span> <span class="fu">max</span>(freq_tab)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  moda <span class="ot">&lt;-</span> <span class="fu">names</span>(freq_tab[freq_tab <span class="sc">==</span> max_freq])</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(moda)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esta função <code>moda()</code>é constituída por:</p>
<ul>
<li><strong>table(v)</strong>: Cria uma tabela de frequência dos valores v.</li>
<li><strong>max(freq_tab)</strong>: Encontra a frequência máxima.</li>
<li><strong>freq_table[freq_table == max_freq]</strong>: Seleciona as entradas da tabela de frequência que são iguais à frequência máxima.</li>
<li><strong>names(…)</strong>: Obtém os nomes (os valores originais) dessas entradas, que são as modas.</li>
</ul>
<p>Usando a função criada, a moda da variável <code>dados$apgar1</code> é igual a:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">moda</span> (dados<span class="sc">$</span>apgar1) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "8"</code></pre>
</div>
</div>
<p>A função <code>moda()</code> pode ser salva em seu diretório de trabalho, na pasta das suas funções próprias. Quando necessário ela pode ser acessada, como foi visto na <a href="04-ambienteR.html#sec-funcpropria" class="quarto-xref"><span>Seção 4.8.1</span></a>).</p>
<p><strong>Função <code>Mode()</code> do pacote <code>DescTools</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>moda <span class="ot">&lt;-</span> <span class="fu">Mode</span>(dados<span class="sc">$</span>apgar1)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(moda)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8
attr(,"freq")
[1] 7</code></pre>
</div>
</div>
<p>A saída mostra que a média é igual a 8 e que frequência deste valor entre os 15 valores é 7.</p>
</section>
<section id="sec-quantil" class="level4" data-number="6.3.3.4">
<h4 data-number="6.3.3.4" class="anchored" data-anchor-id="sec-quantil"><span class="header-section-number">6.3.3.4</span> Quantil</h4>
<p>Uma medida de localização bastante utilizada são os <strong>quantis</strong> que são pontos estabelecidos em intervalos regulares que dividem a amostra em subconjuntos iguais. Se estes subconjuntos são em número de 100, são denominados de <strong>percentis</strong>; se são em número de 10, são os <strong>decis</strong> e em número de 4, são os <strong>quartis</strong>. A função nativa no <em>R</em> para obter o quantil é <code>quantile()</code>.</p>
<p>Para determinar os três quartis do peso dos recém-nascidos (<code>dados$pexoRN</code>), usa-se:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span> (dados<span class="sc">$</span>pesoRN, <span class="fu">c</span> (<span class="fl">0.25</span>, <span class="fl">0.50</span>, <span class="fl">0.75</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   25%    50%    75% 
3077.5 3500.0 3677.5 </code></pre>
</div>
</div>
<p>Observe que o percentil 50º é igual a mediana. O percentil 75º é o ponto do conjunto de dados onde 75% dos recém-nascidos têm um peso inferior a 3677.5g e 25% está acima deste valor.</p>
</section>
<section id="média-aparada" class="level4" data-number="6.3.3.5">
<h4 data-number="6.3.3.5" class="anchored" data-anchor-id="média-aparada"><span class="header-section-number">6.3.3.5</span> Média aparada</h4>
<p>As médias aparadas são estimadores robustos da tendência central. Para calcular uma média aparada, é removida uma quantidade predeterminada de observações em cada lado de uma distribuição e realizada a média das observações restantes. Um exemplo de média aparada é a própria mediana.</p>
<p>A base <em>R</em> tem como calcular a média aparada acrescentando o argumento <code>trim =</code>, proporção a ser aparada. Se for aparado 20%, usa-se <code>trim = 0.2</code>. isto significa que serão removidos 20% dos dados dos dois extremos. No caso da amostra de 15 recém-nascidos, serão removidos três valores mais baixos e três valores mais altos, passando a mostra a ter 9 valores, e a média aparada será a média destes 9 valores.</p>
<p>O comando para obter a média aparada é:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">mean</span> (dados<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">trim =</span> <span class="fl">0.20</span>), <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3397.2</code></pre>
</div>
</div>
</section>
</section>
<section id="medidas-de-dispersão" class="level3" data-number="6.3.4">
<h3 data-number="6.3.4" class="anchored" data-anchor-id="medidas-de-dispersão"><span class="header-section-number">6.3.4</span> Medidas de Dispersão</h3>
<section id="amplitude" class="level4" data-number="6.3.4.1">
<h4 data-number="6.3.4.1" class="anchored" data-anchor-id="amplitude"><span class="header-section-number">6.3.4.1</span> Amplitude</h4>
<p>A amplitude de um grupo de medições é definida como a diferença entre a maior observação e a menor.<br>
No conjunto de dados dos pesos dos recém-nascidos, a amplitude pode ser obtida, no <em>R</em>, com a função <code>range()</code>, que retorna o valor mínimo e o máximo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span> (dados<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2285 3795</code></pre>
</div>
</div>
</section>
<section id="intervalo-interquartil" class="level4" data-number="6.3.4.2">
<h4 data-number="6.3.4.2" class="anchored" data-anchor-id="intervalo-interquartil"><span class="header-section-number">6.3.4.2</span> Intervalo Interquartil</h4>
<p>A intervalo interquartil (IIQ), também conhecido como amplitude interquartil (AIQ) é uma forma de média aparada. É simplesmente a diferença entre o terceiro e o primeiro quartil, ou seja, a diferença entre o percentil 75 e o percentil 25. Considere a variável escolaridade (<code>dados$anosEst</code>), anos de estudos completos.</p>
<p>Os percentis 25 e 75 são obtidos, usando a função <code>quantile()</code>, vista acima, ou com a função <code>summary()</code> , que retorna os valores mínimo, primeiro quartil, mediana, média, terceiro quartil e máximo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span> (dados<span class="sc">$</span>anosEst, <span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">0.75</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 25%  75% 
 6.5 11.0 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dados<span class="sc">$</span>anosEst)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  4.000   6.500   9.000   8.467  11.000  11.000 </code></pre>
</div>
</div>
<p>Portanto, o IIQ está entre 6,5 a 11 anos de estudo ou, 11 – 6,5 = 4,5 anos de estudos completos. Em outras palavras, 50% das mulheres desta amostra têm de 6 a 8 anos de estudo.</p>
<p>O <em>R</em> possui uma função específica para calcular o intervalo interquartil, denominada <code>IQR()</code> e incluída no <code>R</code> base. Ela possui os seguintes argumentos:</p>
<p><strong>x</strong> <span class="math inline">\(\to\)</span> Representa o vetor numérico;<br>
<strong>na.rm</strong> <span class="math inline">\(\to\)</span> Este assume um valor lógico, TRUE ou FALSE, indicando se os valores ausentes devem ser removidos ou não;<br>
<strong>type</strong> <span class="math inline">\(\to\)</span> Representa um número inteiro selecionando um dos muitos algoritmos de quantil. Este é um parâmetro opcional.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>(dados<span class="sc">$</span>anosEst, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.5</code></pre>
</div>
</div>
</section>
<section id="sec-variancia" class="level4" data-number="6.3.4.3">
<h4 data-number="6.3.4.3" class="anchored" data-anchor-id="sec-variancia"><span class="header-section-number">6.3.4.3</span> Variância e Desvio Padrão</h4>
<p>A variância e o desvio padrão fornecem uma indicação de quão aglomerados em torno da média os dados de uma amostra estão. Estes tipos de medidas representam desvios (erros)da média. Quando se verifica o desvio de cada valor (x) em relação à média <span class="math inline">\(\overline{x}\)</span>, os desvios positivos se anulam com os negativos, resultando em uma soma igual a zero.</p>
<p>A consequência deste fato é que não é possível resumir os desvios numa única medida de variabilidade. Para se chegar a uma medida de variabilidade há necessidade de se eliminar os sinais, antes de somar todos os desvios em relação à média.</p>
<p>Uma maneira de se fazer isso é elevar todas as diferenças ao quadrado. Assim, se obtém o desvio em relação à média elevado ao quadrado. A soma destes valores é denominada de <em>Soma dos Quadrados (SQ) dos Desvios</em> ou <em>Soma dos Erros ao Quadrado</em>. Se o interesse é apenas saber o erro ou desvio médio, divide-se por <em>n</em> (tamanho da amostra). No entanto, em geral o interesse se concentra em usar o desvio ou erro na amostra para estimar o erro na população. Dessa maneira, divide-se a Soma dos Quadrados por <span class="math inline">\(n-1\)</span>. Essa medida é conhecida como <strong>variância</strong> (<span class="math inline">\(s^2\)</span>). O divisor, <span class="math inline">\(n – 1\)</span>, é denominado de <em>graus de liberdade</em> (gl) associados à variância.</p>
<p>Os graus de liberdade representam o número de desvios que estão livres para variar. É um conceito de difícil explicação, mas é possível compreendê-lo, usando a seguinte explicação:</p>
<blockquote class="blockquote">
<p><font size="3"> Suponha uma maternidade há 50 anos atrás, quando não havia alojamento conjunto. Nessa época era comum os recém-nascidos normais ficarem em um berçário. A cada horário de amamentação eles eram levados para os quartos de suas mães para mamar. Posteriormente, eram trazidos para o berçário e colocados nos berços até a próxima mamada. Suponha que, em um determinado momento, havia 15 bebês e que, no berçário, existiam 15 berços (postos) para colocá-los durante o intervalo das mamadas. Quando o primeiro recém-nascido chega, a enfermeira poderá escolher qualquer um dos berços para o colocar. Depois, quando o próximo recém-nascido chegar, ela terá 14 opções de escolha, pois um dos berços está ocupado. Ainda existe uma boa liberdade de escolha. No entanto, à medida que os recém-nascidos forem sendo trazidos para o berçário, chegará a um ponto em que 14 berços estarão ocupados. Agora, a enfermeira não terá liberdade de escolha, pois só resta um berço. Nesse exemplo existem 14 graus de liberdade. Para o último recém-nascido não houve liberdade de escolha <span class="citation" data-cites="field2012df">(<a href="references.html#ref-field2012df" role="doc-biblioref">1</a>)</span>. Portanto, os graus de liberdade são iguais ao tamanho da amostra menos um (<span class="math inline">\(n-1\)</span>).</font></p>
</blockquote>
<p>A variância é a razão entre a soma dos quadrados e os graus de liberdade (observações realizadas menos um).</p>
<p><span class="math display">\[
s^2= \frac{\sum(x_i - \overline{x})^2}{n-1}
\]</span></p>
<p>No <em>R</em> existem embutidas as funções <code>sd()</code> e <code>var()</code>que facilmente calculam essas medidas de dispersão.</p>
<p>Usando a variável <code>dados$pesoRN</code>, tem-se:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(dados<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span><span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 208310.2</code></pre>
</div>
</div>
<p>O desvio padrão é a raiz quadrada da variância: <span class="math inline">\(s = \sqrt var\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span> (<span class="fu">var</span>(dados<span class="sc">$</span>pesoRN))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 456.4102</code></pre>
</div>
</div>
<p>Ou, usando a função <code>sd()</code> e arredondando para 1 dígito decimal:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">sd</span> (dados<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 456.4</code></pre>
</div>
</div>
<p>A variância e desvio padrão são medidas de variabilidade e revelam quão bem a média representa os dados. Informa se ela está <em>funcionando bem como modelo</em>. Pequenos desvios padrão mostram que existe pouca variabilidade nos dados, que eles se aproximam da média. Quando existe um grande desvio padrão, a média não é muito precisa para representar os dados.</p>
<p>O desvio padrão, além de medir a precisão com que a média representa os dados, também informa sobre o formato dos dados e por isso é uma medida de dispersão. Em uma amostra onde desvio padrão é pequeno, os dados se agrupam próximo a média e o formato da distribuição fica mais pontiagudo (curva em azul, <a href="#fig-dispersao" class="quarto-xref">Figura&nbsp;<span>6.2</span></a>). Nesse caso a média representa bem os dados. Em outra amostra, com a mesma média anterior, mas com os dados mais dispersos entorno da média, o desvio padrão é maior e o formato da distribuição fica achatado (curva verde, na Figura <a href="#fig-dispersao" class="quarto-xref">Figura&nbsp;<span>6.2</span></a>). Nesse caso a média não é uma boa representação dos dados.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-dispersao" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dispersao-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-dispersao-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" data-fig-pos="H" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dispersao-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.2: Dispersão dos dados em torno da média.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="coeficiente-de-variação" class="level4" data-number="6.3.4.4">
<h4 data-number="6.3.4.4" class="anchored" data-anchor-id="coeficiente-de-variação"><span class="header-section-number">6.3.4.4</span> Coeficiente de Variação</h4>
<p>O desvio padrão por si só tem limitações. Um desvio padrão igual a 2 pode ser considerado pequeno para um conjunto de valores cuja média é 100. Entretanto, se a média for 5, ele se torna muito grande. Além disso, o desvio padrão por ser expresso na mesma unidade dos dados, não permite aplicá-lo na comparação de dois ou mais conjunto de dados que têm unidades diferentes. Para eliminar essas limitações, é possível caracterizar a dispersão ou variabilidade dos dados em termos relativos, usando uma medida denominada Coeficiente de Variação (CV), também conhecido como como <em>Desvio Padrão Relativo</em> ou <em>Coeficiente de Variação de Pearson</em>. É expresso, em geral como uma porcentagem, sendo definido como a razão do desvio padrão pela média:</p>
<p><span class="math display">\[
CV = \frac{s}{\overline{x}}
\]</span></p>
<p>Multiplicando o valor da equação por 100 tem-se o CV percentual. O <em>R</em> não possui uma função específica para calcular o CV.</p>
<p>Foi criada uma função específica para isso,já multiplicada por 100.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>coef_var <span class="ot">&lt;-</span> <span class="cf">function</span> (valores) {</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">sd</span>(valores, <span class="at">na.rm=</span><span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">mean</span>(valores, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">*</span><span class="dv">100</span>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Portanto, o CV da variável <code>dados$pesoRN</code> é igual a:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span> (<span class="fu">coef_var</span> (dados<span class="sc">$</span>pesoRN),<span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13.8</code></pre>
</div>
</div>
<p>Usdando outra variável do banco de dados, por exemplo, <code>dados$idadeMae</code>, o CV será igual a:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">coef_var</span> (dados<span class="sc">$</span>idadeMae), <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21.4</code></pre>
</div>
</div>
<p>O peso do recem-nascido tem um CV = 13.8 % e a idade materna um CV = 21.4 %, mostrando que esta tem uma maior variabilidade. Quanto menor o desvio padrão, menor o CV e, consequentemente, menor a variabilidade. Um CV <span class="math inline">\(\ge\)</span> 50%, sugere que a variável tem uma distribuição assimétrica.</p>
</section>
</section>
<section id="escolha-da-medida-resumidora" class="level3" data-number="6.3.5">
<h3 data-number="6.3.5" class="anchored" data-anchor-id="escolha-da-medida-resumidora"><span class="header-section-number">6.3.5</span> Escolha da medida resumidora</h3>
<p>A seleção da medida de tendência central mais adequada depende de vários fatores, incluindo a natureza dos dados e do propósito da sumarização.</p>
<p>O tipo da variável tem substancial influência na escolha da medida de tendência central a ser usada. A moda é mais apropriada para dados nominais e seu uso com variáveis ordinais resulta em uma perda no poder em termos de informação que se poderia obter dos dados.</p>
<p>A mediana é mais adequada para variáveis ordinais, embora possa ser usada para variáveis contínuas, especialmente quando a distribuição dos dados é assimétrica. A mediana não deveria ser usada com dados nominais porque os postos assumidos não podem ser obtidos com dados de nível nominal.</p>
<p>Finalmente, a média somente deve ser usada com dados contínuos simétricos, se houver assimetria a mediana deve ser preferida.</p>
<p>As medidas de dispersão devem estar associadas a uma medida de tendência central. Elas caracterizam a variabilidade dos dados na amostra. Com dados ordinais usar a amplitude ou o intervalo interquartil. O desvio padrão não é apropriado em dados ordinais devido à natureza não numérica destes.</p>
<p>Com os dados numéricos deve-se usar o desvio padrão, que utiliza toda a informação nos dados, ou o intervalo interquartil (IIQ). Quando os dados forem simétricos, usar a média acompanhada do desvio padrão, caso contrário, usar a mediana e o IIQ. Não misturar e combinar medidas <span class="citation" data-cites="bowers2008scratch">(<a href="references.html#ref-bowers2008scratch" role="doc-biblioref">2</a>)</span>.</p>
</section>
</section>
<section id="sec-tabelas" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="sec-tabelas"><span class="header-section-number">6.4</span> Tabelas</h2>
<p>A apresentação tabular dos dados é a apresentação das informações por meio de tabelas. Uma tabela é uma forma eficiente de mostrar os dados levantados, facilitando a sua compreensão e interpretação. No R existem muitas maneira de criar tabelas.</p>
<section id="dados-usados-nesta-seção-1" class="level3" data-number="6.4.1">
<h3 data-number="6.4.1" class="anchored" data-anchor-id="dados-usados-nesta-seção-1"><span class="header-section-number">6.4.1</span> Dados usados nesta seção</h3>
<p>Para mostrar como construir uma tabela, será feita novamente a leitura do conjunto de dados <code>dadosMater.xlsx</code>. Como visto, este conjunto de dados contém uma grande quantidade colunas e, para tornar mais fácil a análise, serão selecionadas aquelas utilizadas nesta seção.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"dados/dadosMater.xlsx"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">select</span>(idadeMae, altura, peso, anosEst, fumo, </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>           para, ig, sexo, pesoRN, compRN, utiNeo)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mater)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [1,368 × 11] (S3: tbl_df/tbl/data.frame)
 $ idadeMae: num [1:1368] 42 29 19 31 34 29 30 34 17 32 ...
 $ altura  : num [1:1368] 1.65 1.66 1.72 1.55 1.6 1.5 1.54 1.63 1.68 1.5 ...
 $ peso    : num [1:1368] 69.9 78 81 74 60 60 75.5 61 57 70 ...
 $ anosEst : num [1:1368] 3 11 9 5 7 8 4 6 10 1 ...
 $ fumo    : num [1:1368] 2 2 2 2 2 1 1 2 2 2 ...
 $ para    : num [1:1368] 5 0 0 1 2 1 2 1 0 4 ...
 $ ig      : num [1:1368] 29 33 33 33 33 33 33 33 34 34 ...
 $ sexo    : num [1:1368] 2 2 2 2 2 2 2 2 2 2 ...
 $ pesoRN  : num [1:1368] 1035 2300 1580 1840 2475 ...
 $ compRN  : num [1:1368] 35.5 45 39 41 47 41 44 44 47 48 ...
 $ utiNeo  : num [1:1368] 1 2 1 1 1 1 2 2 1 1 ...</code></pre>
</div>
</div>
</section>
<section id="sec-freq" class="level3" data-number="6.4.2">
<h3 data-number="6.4.2" class="anchored" data-anchor-id="sec-freq"><span class="header-section-number">6.4.2</span> Tabelas de Frequência</h3>
<section id="tabela-de-frequência-para-dados-categóricos" class="level4" data-number="6.4.2.1">
<h4 data-number="6.4.2.1" class="anchored" data-anchor-id="tabela-de-frequência-para-dados-categóricos"><span class="header-section-number">6.4.2.1</span> Tabela de frequência para dados categóricos</h4>
<p>Uma maneira concisa que permite observar a variável e extrair informação sobre o seu comportamento, é a utilização de uma <em>tabela de frequência</em>. A tabela de frequência deve ser simples, clara e objetiva, ou seja, não deve ter um volume muito grande de informações. Deve ser autoexplicativa, não deve haver necessidade de ler o texto para entendê-la.</p>
<p>A tabela de frequência agrupa os dados por categorias ou classes, contabilizando o número ocorrências em cada categoria. O número de observações em uma determinada classe recebe o nome de <em>frequência absoluta</em> (<em>f</em>). Além da frequência absoluta, costuma aparecer a frequência relativa (<em>fr</em>) que representa a proporção da classe em relação ao número total de observações (<em>n</em>), calculada por <span class="math inline">\(fr = \frac{f}{n}\)</span>, a frequência percentual (<em>fp</em>), obtida pela multiplicação da frequência relativa por 100 e a frequência acumulada, que é a soma de todas as classes até a classe atual, podendo ser frequência acumulada absoluta (<em>F</em>), frequência acumulada relativa (<em>Fr</em>) ou frequência acumulada percentual (<em>Fp</em>).</p>
<p>Em uma tabela, os dados são apresentados em colunas verticais indicadoras e linhas horizontais. Nas linhas aparecem as categorias e nas colunas as frequências, constituindo o corpo da tabela. O cabeçalho indica a natureza do conteúdo de cada coluna. No cruzamento das colunas e das linhas, tem-se as caselas ou casas.</p>
<p>Existem algumas recomendações na construção de uma tabela de frequência <span class="citation" data-cites="arango2009tab">(<a href="references.html#ref-arango2009tab" role="doc-biblioref">3</a>)</span>:</p>
<ul>
<li>Deve ter um título na parte superior que responda as perguntas: “o que? quando? onde?” relativas ao fato estudado;<br>
</li>
<li>Deve ter um rodapé, na parte inferior da tabela, onde se coloca notas necessárias e a fonte dos dados;<br>
</li>
<li>As colunas externas da tabela devem ser abertas, o emprego de linhas verticais para a separação das colunas no corpo da tabela é opcional;<br>
</li>
<li>Na parte superior e inferior, as tabelas devem, ser fechadas por linhas horizontais;<br>
</li>
<li>Nenhuma casela deve ficar vazia, apresentando um número ou um símbolo. Se não se dispuser do dado, colocar reticências … e a presença de um X representa que o dado foi omitido para evitar a identificação.</li>
</ul>
<p>Se os dados forem nominais, a ordenação das categorias é arbitrária, costuma-se colocar em primeiro lugar a maior frequência (<a href="#tbl-droga" class="quarto-xref">Tabela&nbsp;<span>6.1</span></a>) , colocando-os em categorias ordenadas <span class="citation" data-cites="oliveira2022tab">(<a href="references.html#ref-oliveira2022tab" role="doc-biblioref">4</a>)</span>.</p>
<div class="cell">
<div id="tbl-droga" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-droga-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;6.1: Distribuição de frequência de drogadição em parturientes, Hospital Geral, Caxias do Sul, RS, 2008
</figcaption>
<div aria-describedby="tbl-droga-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed do-not-create-environment cell caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Droga</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">f</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">fr</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">fp (%)</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Fp (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 4cm;">Nenhuma</td>
<td style="text-align: center; width: 1.5cm;">904</td>
<td style="text-align: center; width: 1.5cm;">0.955</td>
<td style="text-align: center; width: 1.5cm;">95.5</td>
<td style="text-align: center; width: 1.5cm;">95.5</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 4cm;">Medicamentos</td>
<td style="text-align: center; width: 1.5cm;">23</td>
<td style="text-align: center; width: 1.5cm;">0.024</td>
<td style="text-align: center; width: 1.5cm;">2.4</td>
<td style="text-align: center; width: 1.5cm;">97.9</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 4cm;">Álcool</td>
<td style="text-align: center; width: 1.5cm;">17</td>
<td style="text-align: center; width: 1.5cm;">0.018</td>
<td style="text-align: center; width: 1.5cm;">1.8</td>
<td style="text-align: center; width: 1.5cm;">99.7</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 4cm;">Crack</td>
<td style="text-align: center; width: 1.5cm;">2</td>
<td style="text-align: center; width: 1.5cm;">0.002</td>
<td style="text-align: center; width: 1.5cm;">0.2</td>
<td style="text-align: center; width: 1.5cm;">99.9</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 4cm;">Cocaína</td>
<td style="text-align: center; width: 1.5cm;">1</td>
<td style="text-align: center; width: 1.5cm;">0.001</td>
<td style="text-align: center; width: 1.5cm;">0.1</td>
<td style="text-align: center; width: 1.5cm;">100</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 4cm;">Total</td>
<td style="text-align: center; width: 1.5cm;">947</td>
<td style="text-align: center; width: 1.5cm;">1.000</td>
<td style="text-align: center; width: 1.5cm;">100.0</td>
<td style="text-align: center; width: 1.5cm;"></td>
</tr>
</tbody>
</table>


</div>
</div>
</figure>
</div>
</div>
</section>
<section id="sec-tabfreq" class="level4" data-number="6.4.2.2">
<h4 data-number="6.4.2.2" class="anchored" data-anchor-id="sec-tabfreq"><span class="header-section-number">6.4.2.2</span> Construção da tabela de frequência</h4>
<p>Para demonstrar como construir uma tabela de frequência, será usada uma variável categórica que não existe no conjunto de dados <code>mater.</code> Esta variável vai ser criada, categorizando a variável numérica <code>idadeMae</code> (idade da parturiente) em três categoria, classicamente, usadas: menores de 20 anos (adolescentes), 20 a 35 anos e maiores de 35 anos. No conjunto <code>mater</code>, a variável <code>idadeMae</code> tem como idade mínima 13 anos e idade máxima 46 anos. A nova variável receberá o nome de <code>categIdade</code>. Para realizar este trabalho de transformação da variável numérica em categórica, será usada a função <code>mutate()</code> do pacote <code>dplyr</code> (veja <a href="05-manipulandoDados.html#sec-mutate" class="quarto-xref"><span>Seção 5.3.3</span></a>). Esta função tem vários argumentos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> mater <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">categIdade =</span> <span class="fu">case_when</span>(</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    idadeMae <span class="sc">&lt;</span> <span class="dv">20</span> <span class="sc">~</span> <span class="st">"&lt; 20 anos"</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    idadeMae <span class="sc">&gt;=</span> <span class="dv">20</span> <span class="sc">&amp;</span> idadeMae <span class="sc">&lt;=</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">"20 a 35 anos"</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    idadeMae <span class="sc">&gt;</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">"&gt; 35 anos"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">categIdade =</span> <span class="fu">factor</span>(categIdade, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"&lt; 20 anos"</span>, <span class="st">"20 a 35 anos"</span>, <span class="st">"&gt; 35 anos"</span>)))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para visualizar se a variável foi criada de maneira adequada, pode-se usar novamente a função <code>str()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mater)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [1,368 × 12] (S3: tbl_df/tbl/data.frame)
 $ idadeMae  : num [1:1368] 42 29 19 31 34 29 30 34 17 32 ...
 $ altura    : num [1:1368] 1.65 1.66 1.72 1.55 1.6 1.5 1.54 1.63 1.68 1.5 ...
 $ peso      : num [1:1368] 69.9 78 81 74 60 60 75.5 61 57 70 ...
 $ anosEst   : num [1:1368] 3 11 9 5 7 8 4 6 10 1 ...
 $ fumo      : num [1:1368] 2 2 2 2 2 1 1 2 2 2 ...
 $ para      : num [1:1368] 5 0 0 1 2 1 2 1 0 4 ...
 $ ig        : num [1:1368] 29 33 33 33 33 33 33 33 34 34 ...
 $ sexo      : num [1:1368] 2 2 2 2 2 2 2 2 2 2 ...
 $ pesoRN    : num [1:1368] 1035 2300 1580 1840 2475 ...
 $ compRN    : num [1:1368] 35.5 45 39 41 47 41 44 44 47 48 ...
 $ utiNeo    : num [1:1368] 1 2 1 1 1 1 2 2 1 1 ...
 $ categIdade: Factor w/ 3 levels "&lt; 20 anos","20 a 35 anos",..: 3 2 1 2 2 2 2 2 1 2 ...</code></pre>
</div>
</div>
<p>Para se verificar como ficou a distribuição de frequência absoluta, constrói-se uma tabela, inicialmente com a função <code>table()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>f_abs <span class="ot">&lt;-</span> <span class="fu">table</span> (mater<span class="sc">$</span>categIdade)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>f_abs</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   &lt; 20 anos 20 a 35 anos    &gt; 35 anos 
         219          992          157 </code></pre>
</div>
</div>
<p>As frequências relativas podem ser obtidas com a função <code>prop.table()</code>, Esta função será usada dentro da função <code>round()</code> para arredondar os valores para 3 dígitos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>f_rel <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">prop.table</span>(f_abs), <span class="dv">3</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>f_rel</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   &lt; 20 anos 20 a 35 anos    &gt; 35 anos 
       0.160        0.725        0.115 </code></pre>
</div>
</div>
<p>Multiplicando por 100 a <code>f_rel</code>, tem-se a frequência percentual <code>f_perc</code>. De novo, a operação será colocada dentro da função <code>round()</code>, arredondando o resultado para dois dígitos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>f_perc <span class="ot">&lt;-</span> <span class="fu">round</span>(f_rel<span class="sc">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>f_perc</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   &lt; 20 anos 20 a 35 anos    &gt; 35 anos 
        16.0         72.5         11.5 </code></pre>
</div>
</div>
<p>Para construir uma tabela simples no <em>R</em>, pode-se proceder da seguinte maneira:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando as colunas das tabelas com o total de cada uma delas</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>f_abs <span class="ot">&lt;-</span> <span class="fu">c</span> (f_abs, <span class="fu">sum</span>(f_abs))</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>f_rel <span class="ot">&lt;-</span> <span class="fu">c</span> (f_rel, <span class="fu">sum</span> (f_rel))</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>f_perc <span class="ot">&lt;-</span> <span class="fu">c</span> (f_perc, <span class="fu">sum</span> (f_perc))</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando a tabela inicial com a concatenação das coluna, usando a função cbind()</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(f_abs,</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>              f_rel ,</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>              f_perc)</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>tab1</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             f_abs f_rel f_perc
&lt; 20 anos      219 0.160   16.0
20 a 35 anos   992 0.725   72.5
&gt; 35 anos      157 0.115   11.5
              1368 1.000  100.0</code></pre>
</div>
</div>
<p>Transformando a <code>tab1</code> em um dataframe, nomeando a linha 4 e renomeando as colunas para que tenham os nomes mencionados no início da seção:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tab1)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(tab1)[<span class="dv">4</span>] <span class="ot">&lt;-</span>  <span class="st">"Total"</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tab1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"f"</span>, <span class="st">"fr (%)"</span>, <span class="st">"fp (%)"</span>)</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>tab1</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                f fr (%) fp (%)
&lt; 20 anos     219  0.160   16.0
20 a 35 anos  992  0.725   72.5
&gt; 35 anos     157  0.115   11.5
Total        1368  1.000  100.0</code></pre>
</div>
</div>
<p>Esta uma tabela simples que serve para visualizar as informações. Não serve para publicações. Para obter uma tabela simples, mas muito mais profissional (<a href="#tbl-tisch" class="quarto-xref">Tabela&nbsp;<span>6.2</span></a>) pode ser utilizada a função <code>kable()</code> do pacote <code>knitr</code> <span class="citation" data-cites="xie2018knitr">(<a href="references.html#ref-xie2018knitr" role="doc-biblioref">5</a>)</span>. Esta função possui um grande número de argumentos para personalizar a aparência das tabelas<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(tab1,</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Faixa Etária"</span>, <span class="st">"f"</span>, <span class="st">"fr"</span>, <span class="st">"fp (%)"</span>),</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">align =</span> <span class="fu">c</span>(<span class="st">'l'</span>, <span class="st">'c'</span>, <span class="st">'c'</span>, <span class="st">'c'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a> kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>),</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_width =</span> <span class="cn">FALSE</span>, </span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"left"</span>,</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">font_size =</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="st">"4cm"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">column_spec</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">width =</span> <span class="st">"1.5cm"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-tisch" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-tisch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;6.2: Distribuição das puérperas por faixa etária, Hospital Geral, Caxias do Sul, RS, 2008
</figcaption>
<div aria-describedby="tbl-tisch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed do-not-create-environment cell caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Faixa Etária</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">f</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">fr</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">fp (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 4cm;">&lt; 20 anos</td>
<td style="text-align: left; width: 1.5cm;">219</td>
<td style="text-align: center; width: 1.5cm;">0.160</td>
<td style="text-align: center; width: 1.5cm;">16.0</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 4cm;">20 a 35 anos</td>
<td style="text-align: left; width: 1.5cm;">992</td>
<td style="text-align: center; width: 1.5cm;">0.725</td>
<td style="text-align: center; width: 1.5cm;">72.5</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 4cm;">&gt; 35 anos</td>
<td style="text-align: left; width: 1.5cm;">157</td>
<td style="text-align: center; width: 1.5cm;">0.115</td>
<td style="text-align: center; width: 1.5cm;">11.5</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 4cm;">Total</td>
<td style="text-align: left; width: 1.5cm;">1368</td>
<td style="text-align: center; width: 1.5cm;">1.000</td>
<td style="text-align: center; width: 1.5cm;">100.0</td>
</tr>
</tbody>
</table>


</div>
</div>
</figure>
</div>
</div>
</section>
<section id="tabela-de-frequência-para-dados-numéricos" class="level4" data-number="6.4.2.3">
<h4 data-number="6.4.2.3" class="anchored" data-anchor-id="tabela-de-frequência-para-dados-numéricos"><span class="header-section-number">6.4.2.3</span> Tabela de frequência para dados numéricos</h4>
<p>Como fazer a distribuição de frequência de uma variável contínua sem um critério pré-determinado para as classes?</p>
<p>Como exemplo, será usado, agora, o IMC pré-gestacional das parturientes do banco de dados <code>dadosMater.xlsx</code>). Esta variável ainda não existe no banco de dados, tem-se apenas o peso e a altura e, portanto, com estes dados, ela pode ser criada:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>imc <span class="ot">&lt;-</span> <span class="fu">round</span>(mater<span class="sc">$</span>peso<span class="sc">/</span>mater<span class="sc">$</span>altura<span class="sc">^</span><span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mater)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [1,368 × 13] (S3: tbl_df/tbl/data.frame)
 $ idadeMae  : num [1:1368] 42 29 19 31 34 29 30 34 17 32 ...
 $ altura    : num [1:1368] 1.65 1.66 1.72 1.55 1.6 1.5 1.54 1.63 1.68 1.5 ...
 $ peso      : num [1:1368] 69.9 78 81 74 60 60 75.5 61 57 70 ...
 $ anosEst   : num [1:1368] 3 11 9 5 7 8 4 6 10 1 ...
 $ fumo      : num [1:1368] 2 2 2 2 2 1 1 2 2 2 ...
 $ para      : num [1:1368] 5 0 0 1 2 1 2 1 0 4 ...
 $ ig        : num [1:1368] 29 33 33 33 33 33 33 33 34 34 ...
 $ sexo      : num [1:1368] 2 2 2 2 2 2 2 2 2 2 ...
 $ pesoRN    : num [1:1368] 1035 2300 1580 1840 2475 ...
 $ compRN    : num [1:1368] 35.5 45 39 41 47 41 44 44 47 48 ...
 $ utiNeo    : num [1:1368] 1 2 1 1 1 1 2 2 1 1 ...
 $ categIdade: Factor w/ 3 levels "&lt; 20 anos","20 a 35 anos",..: 3 2 1 2 2 2 2 2 1 2 ...
 $ imc       : num [1:1368] 25.7 28.3 27.4 30.8 23.4 26.7 31.8 23 20.2 31.1 ...</code></pre>
</div>
</div>
<p>A variável <code>imc</code> foi criada de forma adequada. Após, isso, para verificar a sua distribuição, segue-se os seguintes passos:</p>
<ol type="1">
<li><em>Estabelecimento do número de classes (k)</em>:</li>
</ol>
<p>Antes, as classes foram estabelecidas de acordo com algum critério. Em geral, quando não há um padrão pré-determinado, o número de classes é estabelecido de acordo com o tamanho da amostra. Este número pode ser escolhido lembrando-se das oscilações que ocorrem nos dados e do interesse do pesquisador em mostrar seus dados. Não existe uma regra totalmente eficiente para determinar o número de classes. É importante ter bom senso, de maneira que seja possível ver como os valores se distribuem.</p>
<p>Para a maioria dos dados, é recomendado e 8 a 20 classes, isto é, 8 <span class="math inline">\(\le\)</span> k <span class="math inline">\(\le\)</span> 20. Com poucas classes, perde-se precisão e, com muitas classes, a tabela torna-se muito extensa. Baseado na regra de Sturges , é sugerido usar a recomendação da <a href="#fig-sturges" class="quarto-xref">Figura&nbsp;<span>6.3</span></a> <span class="citation" data-cites="arango2009classes">(<a href="references.html#ref-arango2009classes" role="doc-biblioref">7</a>)</span>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-sturges" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sturges-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://i.imgur.com/IXn5SNz.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sturges-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.3: Número de classes baseado em Sturges
</figcaption>
</figure>
</div>
</div>
</div>
<p>Para a variável <code>imc</code>, como existem 1368 observações, deve-se usar ao redor de 10 classes. Executando a função <code>nclass.Sturges ()</code>, abaixo, o número de classes é igual a:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="fu">nclass.Sturges</span> (mater<span class="sc">$</span>imc)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>k</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
</div>
<ol start="2" type="1">
<li><em>Amplitude e limites das classes</em>:</li>
</ol>
<p>A classe possui um limite inferior e um limite superior. O importante é que os limites dos intervalos sejam mutuamente exclusivos, isto é, cada valor deve ser representado em um único intervalo. Além disso, os intervalos devem ser exaustivos, isto é, devem conter todos os valores possíveis entre o valor mínimo e o máximo. O recomendado é que as classes sejam homogêneas, ou seja, tenham a mesma amplitude. A amplitude dos valores pode ser obtida com a função <code>range()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>amplitude <span class="ot">&lt;-</span> <span class="fu">range</span>(mater<span class="sc">$</span>imc) </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>amplitude </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11.8 48.7</code></pre>
</div>
</div>
<p>Usando esta amplitude dos dados, é possível ter a largura (amplitude) das classes (<code>h</code>), usando a diferença entre o mínimo e máximo e divdindo pelo número de classes (<code>k</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">diff</span>(amplitude)<span class="sc">/</span>k, <span class="dv">0</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>h</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>A fórmula é apenas a diferença absoluta dos limites inferior e superior dividida pelo número de classes, arredondado com o a função <code>round ()</code>.</p>
<p>A partir desses dados, é possível construir as classes. A primeira classe será o valor mínimo de 11,8 e máximo 14,8 (11,8 + 3) exclusive; a segunda classe será 14,8 até 17,8 (14,8 + 3) e assim por diante.</p>
<ol start="3" type="1">
<li><em>Construção da tabela</em>:</li>
</ol>
<p>Pode-se construir a tabela, usando a função <code>mutate()</code> e dentro desta a função <code>cut()</code>e dentro dela a função <code>seq(limite inferior, limite superior, length.out = k + 1)</code>. A função <code>cut()</code> tem vários argumentos:</p>
<ul>
<li><strong>x</strong> <span class="math inline">\(\to\)</span> vetor numérico</li>
<li><strong>breaks</strong> <span class="math inline">\(\to\)</span> vetor numérico de dois ou mais pontos de corte exclusivos ou um único número (maior ou igual a 2) dando o número de intervalos nos quais <em>x</em> deve ser subdividido</li>
<li><strong>labels</strong> <span class="math inline">\(\to\)</span> rótulos para os níveis das categorias resultante. Por padrão, os rótulos são construídos usando a notação de intervalo (a,b] - aberto à esquerda e fechado à direita.</li>
<li><strong>include.lowest</strong> <span class="math inline">\(\to\)</span> valor lógico, se o menor valor (ou o maior, se <code>right = TRUE</code>) será incluido. Padrão = <code>include.lowest=TRUE</code>.</li>
<li><strong>right</strong> <span class="math inline">\(\to\)</span> valor lógico indicando se o intervalo deve ser fechado à direita e aberto a esquerda. Padrão = <code>right = TRUE</code>.</li>
<li><strong>ordered_result</strong> <span class="math inline">\(\to\)</span> valor lógico indicando se o resultado deve ser um fator ordenado.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> mater <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">categImc =</span> <span class="fu">cut</span>(</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>    imc,</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="fl">11.8</span>, <span class="fl">48.7</span>, <span class="at">length.out =</span> <span class="dv">13</span>), <span class="co"># 12 intervalos definidos</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">include.lowest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">ordered_result =</span> <span class="cn">TRUE</span>))</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(mater<span class="sc">$</span>categImc)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
[11.8,14.9]   (14.9,18]     (18,21]   (21,24.1] (24.1,27.2] (27.2,30.3] 
          2          46         258         480         237         176 
(30.3,33.3] (33.3,36.4] (36.4,39.5] (39.5,42.6] (42.6,45.6] (45.6,48.7] 
         87          39          22          12           5           4 </code></pre>
</div>
</div>
<p>Preste atenção! Estes comandos que vão gerar a tabela têm o argumento <code>right = TRUE</code> (padrão). Neste caso, os símbolos aparecem como (] (na tabela) e significa que o limite inferior da classe foi excluído (aberto à esquerda) e o superior foi incluído (fechado à direita). Aqui, também foi introduzido o argumento <code>include.lowest  = TRUE</code> para incluir o valor mínimo dos dados (11,8), e a representação gráfica fica [].</p>
<p>Olhando a saída do objeto <code>categImc</code>, ela parece pouco esclarecedora e, no caso do IMC, talvez fosse melhor usar outro critério. Como por exemplo o que define o estado nutricional no 1° trimestre de gestação e classifica as gestantes em:</p>
<ul>
<li><strong>baixo peso</strong> (IMC <span class="math inline">\(&lt;\)</span> 18,5 kg/<span class="math inline">\(m^2\)</span>),<br>
</li>
<li><strong>peso adequado</strong> (18,5 <span class="math inline">\(\le\)</span> IMC <span class="math inline">\(\le\)</span> 24,9 kg/<span class="math inline">\(m^2\)</span>),<br>
</li>
<li><strong>sobrepeso</strong> (25,0 <span class="math inline">\(\le\)</span> IMC <span class="math inline">\(\le\)</span> 29,9 kg/<span class="math inline">\(m^2\)</span>) e<br>
</li>
<li><strong>obesidade</strong> (IMC <span class="math inline">\(\ge\)</span> 30 kg/<span class="math inline">\(m^2\)</span>).</li>
</ul>
<p>Assim, é recomendado um ganho de peso total adequado de 12,5 kg a 18 kg para as gestantes classificadas como baixo peso; de 11,5 kg a 16,0 kg para as classificadas como peso adequado; de 7,0 a 11,5 kg nas classificadas com sobrepeso; e de 5,0 a 9,0 kg nas obesas <span class="citation" data-cites="rasmussen2009weight">(<a href="references.html#ref-rasmussen2009weight" role="doc-biblioref">8</a>)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> mater <span class="sc">%&gt;%</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">estNutri =</span> <span class="fu">case_when</span>(</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    imc <span class="sc">&lt;</span> <span class="fl">18.5</span> <span class="sc">~</span> <span class="st">"Baixo Peso"</span>,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    imc <span class="sc">&gt;=</span> <span class="fl">18.5</span> <span class="sc">&amp;</span> imc <span class="sc">&lt;</span> <span class="dv">25</span> <span class="sc">~</span> <span class="st">"Peso adequado"</span>, </span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>    imc <span class="sc">&gt;=</span> <span class="dv">25</span> <span class="sc">&amp;</span> imc <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"Sobrepeso"</span>,</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>    imc <span class="sc">&gt;=</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"Obesidade"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">estNutri =</span> <span class="fu">factor</span>(estNutri, </span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Baixo Peso"</span>, <span class="st">"Peso adequado"</span>, </span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">"Sobrepeso"</span>, <span class="st">"Obesidade"</span>)))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Isto cria uma nova variável <code>estNutri</code> (estado nutricional), no conjunto de dados <code>mater</code>, com 4 níveis (Baixo Peso, Peso Adequado, Sobrepeso e Obesidade). Desta forma, pode-se construir uma tabela que melhor define este grupo de mulheres quanto ao estado nutricional.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>f.abs <span class="ot">&lt;-</span> <span class="fu">table</span> (mater<span class="sc">$</span>estNutri)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>f.rel <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">prop.table</span>(f.abs), <span class="dv">3</span>)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>f.perc <span class="ot">&lt;-</span> <span class="fu">round</span>(f.rel<span class="sc">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>f.abs <span class="ot">&lt;-</span> <span class="fu">c</span> (f.abs, <span class="fu">sum</span>(f.abs))</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>f.rel <span class="ot">&lt;-</span> <span class="fu">c</span> (f.rel, <span class="fu">sum</span> (f.rel))</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>f.perc <span class="ot">&lt;-</span> <span class="fu">c</span> (f.perc, <span class="fu">sum</span> (f.perc))</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>tab2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(f.abs,</span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>              f.rel ,</span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>              f.perc)</span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>tab2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tab2)</span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(tab2)[<span class="dv">5</span>] <span class="ot">&lt;-</span>  <span class="st">"Total"</span></span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tab2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"f"</span>, <span class="st">"fr"</span>, <span class="st">"fp"</span>)</span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>tab2</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 f    fr    fp
Baixo Peso      67 0.049   4.9
Peso adequado  791 0.578  57.8
Sobrepeso      335 0.245  24.5
Obesidade      175 0.128  12.8
Total         1368 1.000 100.0</code></pre>
</div>
</div>
<p>Colocando em um formato mais científico, tem-se uma tabela ( <a href="#tbl-aripaka" class="quarto-xref">Tabela&nbsp;<span>6.3</span></a>)) bem mais elegante sobre o estado nutricional pré-gestacional:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(tab2,</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Estado Nutricional"</span>, <span class="st">"f"</span>, <span class="st">"fr"</span>, <span class="st">"fp (%)"</span>),</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">align =</span> <span class="fu">c</span>(<span class="st">'l'</span>, <span class="st">'c'</span>, <span class="st">'c'</span>, <span class="st">'c'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a> kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>),</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_width =</span> <span class="cn">FALSE</span>, </span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"left"</span>,</span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">font_size =</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="st">"4cm"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">column_spec</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">width =</span> <span class="st">"1.5cm"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-aripaka" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-aripaka-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;6.3: Estado nutricional pré-gestacional das parturientesa, Hospital Geral, Caxias do Sul, RS, 2008
</figcaption>
<div aria-describedby="tbl-aripaka-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed do-not-create-environment cell caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Estado Nutricional</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">f</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">fr</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">fp (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 4cm;">Baixo Peso</td>
<td style="text-align: left; width: 1.5cm;">67</td>
<td style="text-align: center; width: 1.5cm;">0.049</td>
<td style="text-align: center; width: 1.5cm;">4.9</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 4cm;">Peso adequado</td>
<td style="text-align: left; width: 1.5cm;">791</td>
<td style="text-align: center; width: 1.5cm;">0.578</td>
<td style="text-align: center; width: 1.5cm;">57.8</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 4cm;">Sobrepeso</td>
<td style="text-align: left; width: 1.5cm;">335</td>
<td style="text-align: center; width: 1.5cm;">0.245</td>
<td style="text-align: center; width: 1.5cm;">24.5</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 4cm;">Obesidade</td>
<td style="text-align: left; width: 1.5cm;">175</td>
<td style="text-align: center; width: 1.5cm;">0.128</td>
<td style="text-align: center; width: 1.5cm;">12.8</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 4cm;">Total</td>
<td style="text-align: left; width: 1.5cm;">1368</td>
<td style="text-align: center; width: 1.5cm;">1.000</td>
<td style="text-align: center; width: 1.5cm;">100.0</td>
</tr>
</tbody>
</table>


</div>
</div>
</figure>
</div>
</div>
</section>
</section>
<section id="tabelas-de-contingência" class="level3" data-number="6.4.3">
<h3 data-number="6.4.3" class="anchored" data-anchor-id="tabelas-de-contingência"><span class="header-section-number">6.4.3</span> Tabelas de contingência</h3>
<p>As tabelas de contingência, também chamadas <strong>tabelas cruzadas</strong>, são bastante usadas em estatísticas epidemiológicas para resumir a relação entre duas ou mais variáveis categóricas.</p>
<p>Uma tabela de contingência é um tipo especial de tabela de distribuição de frequência, onde duas variáveis são mostradas simultaneamente. Por exemplo, um pesquisador pode estar interessado em saber se o hábito de fumar na gestação aumenta o risco de o recém-nascido precisar de cuidados intensivos.</p>
<p>Existem duas variáveis <code>fumo</code> (fumo na gestação) e <code>utiNeo</code> (necessidade de cuidados intensivos neonatais) no banco de dados <code>dadosMater.xlsx</code>. Cada uma dessas variáveis tem duas alternativas, <code>sim</code> e <code>não</code>, por isso a tabela de cruzamento é denominada tabela de contingência 2 x 2. No arquivo, estão registradas como variáveis numéricas , 1 e 2, e devem ser transformadas para fatores (1 = sim e 2 = não)<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>, usando a função <code>factor()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>fumo <span class="ot">&lt;-</span> <span class="fu">factor</span> (mater<span class="sc">$</span>fumo, </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">ordered =</span> <span class="cn">TRUE</span>, </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">levels =</span> <span class="fu">c</span> (<span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">c</span> (<span class="st">"sim"</span>, <span class="st">"não"</span>))</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>utiNeo <span class="ot">&lt;-</span> <span class="fu">factor</span> (mater<span class="sc">$</span>utiNeo, </span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">ordered =</span> <span class="cn">TRUE</span>, </span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">levels =</span> <span class="fu">c</span> (<span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>                        <span class="at">labels =</span> <span class="fu">c</span> (<span class="st">"sim"</span>, <span class="st">"não"</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Basta agora, usar a função <code>with()</code> junto com a função <code>table(variável da linha, variável das colunas)</code>. Por convenção, costuma-se colocar a variável explicativa ou explanatória nas linhas (<code>fumo</code>) e o desfecho nas colunas (<code>utiNeo</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>tabFumo <span class="ot">&lt;-</span> <span class="fu">with</span>(<span class="at">data =</span> mater, <span class="fu">table</span>(fumo, utiNeo))</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>tabFumo</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     utiNeo
fumo  sim não
  sim  71 230
  não 204 863</code></pre>
</div>
</div>
<p>Para ter a soma das margens, usar a função <code>addmargins (tabela, margin = c (1,2), FUN = sum)</code> do pacote <code>stats</code>, incluído na instalação básica do <em>R</em>. A função adiciona a soma das linhas (1) e das colunas (2) às margens da tabela (<code>tabFumo</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span> (tabFumo, <span class="at">margin =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">FUN =</span> sum)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Margins computed over dimensions
in the following order:
1: fumo
2: utiNeo</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     utiNeo
fumo   sim  não  sum
  sim   71  230  301
  não  204  863 1067
  sum  275 1093 1368</code></pre>
</div>
</div>
<p>Observando a tabela de contingência, verifica-se que a proporção entre as gestantes fumantes de internação na UTI neonatal foi 71/301 = 0,236 e entre as não fumantes foi de 204/1067 = 0,191. Para verificar se esta diferença ocorreu por acaso ou ela é significativa, há necessidade de se realizar um teste de hipótese, o qui-quadrado, que será visto na <span class="quarto-unresolved-ref">?sec-qui</span>.</p>
</section>
</section>
<section id="gráficos" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="gráficos"><span class="header-section-number">6.5</span> Gráficos</h2>
<p>Para descrever os dados e visualizar o que está acontecendo, recomenda-se utilizar um gráfico adequado. O que é adequado depende principalmente do tipo de dados, bem como das características particulares do que se quer explorar. Além disso, um gráfico em um relatório sempre é um fator de “impacto”. Ou seja, pode ter um efeito positivo no leitor ou fazê-lo abandonar a leitura. Finalmente, um gráfico de frequência pode ser utilizado para ilustrar, explicar uma situação complexa onde palavras ou uma tabela podem ser confusos, extensos ou de outro modo insuficiente. Por outro lado, deve-se evitar usar gráficos onde poucas palavras expressam claramente o que se quer mostrar. Aconselha-se que, ao analisar os dados, é importante inspecioná-los como se fossem uma imagem, uma fotografia, ver como eles se parecem, qual o seu aspecto, e só então pensar em interpretar os aspectos vitais da estatística <span class="citation" data-cites="field2012graphs">(<a href="references.html#ref-field2012graphs" role="doc-biblioref">9</a>)</span>.</p>
<p>O <em>R</em> básico fornece uma grande variedade de funções para visualizar dados, elas de uma maneira relativamente simples permitem a construção de gráficos que facilitam a interpretação tanto de variáveis categórica como contínuas. Para gráficos mais sofisticados existe um pacote denominado <code>ggplot2</code> <span class="citation" data-cites="wickham2016getting">(<a href="references.html#ref-wickham2016getting" role="doc-biblioref">10</a>)</span>. Este pacote é uma ferramenta extremamente versátil. É um pouco mais complexo e exige mais tempo para dominá-lo, mas, uma vez que se aprenda a sua lógica, oferece uma estrutura extremamente flexível para exibir os dados . Inicialmente, serão usadas as funções do <em>R</em> básico e,posteriormente, será feita uma introdução ao <code>ggplot2</code> (<a href="#sec-ggplot2" class="quarto-xref"><span>Seção 6.6</span></a>).</p>
<section id="gráfico-de-setores" class="level3" data-number="6.5.1">
<h3 data-number="6.5.1" class="anchored" data-anchor-id="gráfico-de-setores"><span class="header-section-number">6.5.1</span> Gráfico de setores</h3>
<p>Também conhecido como gráfico de <em>pizza</em>. Cada segmento (fatia) do gráfico de pizza deve ser proporcional à frequência da categoria que representa. A desvantagem do gráfico de pizza é que ele só pode representar uma variável, portanto, há necessidade de um gráfico separado para cada variável que se deseja representar. Além disso, um gráfico de pizza pode perder clareza se ele é usado para representar mais do que quatro ou cinco categorias. Na maioria das vezes, em um artigo ou relatório científico não há necessidade de se usar este tipo de gráfico. As tabelas são muito melhores. Segundo Edward Tufte, professor emérito de estatística, <em>design</em> gráfico e economia política na Universidade de Yale, o único gráfico pior do que um gráfico de pizza são vários deles <span class="citation" data-cites="tufte2001aesthetics">(<a href="references.html#ref-tufte2001aesthetics" role="doc-biblioref">11</a>)</span>! Ele é usado mais no mundo dos negócios. Como regra, evite usar gráfico de pizza!</p>
<p>Em uma consulta, entre estudantes de Medicina, foi perguntado a sua opinião em relação a este tipo de gráfico. A pergunta feita foi: “O que você sente ao ver um gráfico de pizza em um artigo científico?” As alternativas para a resposta eram quatro (ódio, irritação, indiferença, amor). O resultado do inquérito está na <a href="#tbl-pizza" class="quarto-xref">Tabela&nbsp;<span>6.4</span></a>.</p>
<div class="cell">
<div id="tbl-pizza" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-pizza-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;6.4: Sentimento dos alunos de Medicina em relação ao gráfico de pizza, UCS, 2012.
</figcaption>
<div aria-describedby="tbl-pizza-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed do-not-create-environment cell caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Sentimento</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">f</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">fr</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">fp (%)</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Fp (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 4cm;">Odeiam</td>
<td style="text-align: center; width: 1.5cm;">6</td>
<td style="text-align: center; width: 1.5cm;">0.15</td>
<td style="text-align: center; width: 1.5cm;">15</td>
<td style="text-align: center; width: 1.5cm;">15</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 4cm;">Não gostam</td>
<td style="text-align: center; width: 1.5cm;">12</td>
<td style="text-align: center; width: 1.5cm;">0.30</td>
<td style="text-align: center; width: 1.5cm;">30</td>
<td style="text-align: center; width: 1.5cm;">45</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 4cm;">Indiferentes</td>
<td style="text-align: center; width: 1.5cm;">14</td>
<td style="text-align: center; width: 1.5cm;">0.35</td>
<td style="text-align: center; width: 1.5cm;">35</td>
<td style="text-align: center; width: 1.5cm;">80</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 4cm;">Amam</td>
<td style="text-align: center; width: 1.5cm;">8</td>
<td style="text-align: center; width: 1.5cm;">0.20</td>
<td style="text-align: center; width: 1.5cm;">20</td>
<td style="text-align: center; width: 1.5cm;">100</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 4cm;">Total</td>
<td style="text-align: center; width: 1.5cm;">40</td>
<td style="text-align: center; width: 1.5cm;">1.00</td>
<td style="text-align: center; width: 1.5cm;">100</td>
<td style="text-align: center; width: 1.5cm;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
</figure>
</div>
</div>
<p>No <em>R</em> base, pacote <code>graphics</code>, existe a função <code>pie()</code>para obter um gráfico de setores simples. Esta função usa os seguintes argumentos basicos, consulte a ajuda do R para outras informações:</p>
<ul>
<li><strong>x</strong> <span class="math inline">\(\to\)</span> vetor numérico não negativo<br>
</li>
<li><strong>labels</strong> <span class="math inline">\(\to\)</span> caracteres que fornecem nomes para as fatias. Para rótulos vazios ou NA (após coerção para caractere), nenhum rótulo ou linha indicadora é desenhada<br>
</li>
<li><strong>radius</strong> <span class="math inline">\(\to\)</span> A pizza é desenhada centralizada em um quadrado cujos lados variam de -1 a +1. Se os caracteres que rotulam as fatias forem longos, pode ser necessário usar um raio menor. O padrão é 0,8.<br>
</li>
<li><strong>density</strong> <span class="math inline">\(\to\)</span> Densidade das linhas de sombreamento, em linhas por polegada. O padrão é NULL significa que nenhuma linha de sombreamento é desenhada. Valores não positivos de densidade também inibem o desenho de linhas sombreadas</li>
<li><strong>col</strong> <span class="math inline">\(\to\)</span> Vetor de cores a ser usado no preenchimento ou sombreamento das fatias. Se estiver faltando, um conjunto de 6 cores pastel é usado</li>
</ul>
<p>Os valores da coluna de frequência absoluta (<em>f</em>) da <a href="#tbl-pizza" class="quarto-xref">Tabela&nbsp;<span>6.4</span></a> serão usados como o argumento <em>x</em>. Ele informa a área (proporção de cada fatia). Os rótulos das fatias são escritos com a função concatenar <code>c()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">8</span>),</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Odeiam"</span>, <span class="st">"Não gostam"</span>, <span class="st">"Indiferentes"</span>, <span class="st">"Amam"</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-pie" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pie-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-pie-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:90.0%;height:90.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pie-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.4: Gráfico de Pizza: Opinião dos estudantes de Medicina.
</figcaption>
</figure>
</div>
</div>
</div>
<p>As cores que aparecem na <a href="#fig-pie" class="quarto-xref">Figura&nbsp;<span>6.4</span></a> foram escolhidas pelo <em>R</em>, usando o seu padrão. Entretanto, elas podem ser customizadas, especificando-as pelo nome colocado entre parênteses. Por exemplo, <code>col = "red"</code> e se for mais de uma cor usar a função concatenar, <code>col = c(“gray58“, “yellow4”, “cyan”, “tomato”)</code>. As cores também podem se denotadas pelo sistemas RGB ou hexadecimal. A sigla RGB representa as cores primárias em inglês (<em>Red</em>, <em>Green</em>, <em>Blue</em>). O código hexadecimal da cor branca é #FFFFFFF, da gray58 é #949494, da yellow4 é #999900, da cyan é #00FFFFe da tomato é #FF6347 (<a href="#fig-pie2" class="quarto-xref">Figura&nbsp;<span>6.5</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">8</span>),</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Odeiam"</span>, <span class="st">"Não gostam"</span>, <span class="st">"Indiferentes"</span>, <span class="st">"Amam"</span>),</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"gray58"</span>, <span class="st">"yellow4"</span>, <span class="st">"cyan"</span>, <span class="st">"tomato"</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-pie2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pie2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-pie2-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:90.0%;height:90.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pie2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.5: Figura anterior com cores personalizadas.
</figcaption>
</figure>
</div>
</div>
</div>
<p>As cores parecem “espetaculosas”, mas o objetivo foi de criticar os gráficos tipo pizza. Se o leitor quiser insistir no seu uso e com um gráfico em 3D (<a href="#fig-pie3d" class="quarto-xref">Figura&nbsp;<span>6.6</span></a>), pode-se instalar o pacote <code>plotrix</code> <span class="citation" data-cites="lemon2015package">(<a href="references.html#ref-lemon2015package" role="doc-biblioref">12</a>)</span> e carregar a função <code>pie3D()</code>. Os argumentos são praticamente os mesmos do gráfico simples. Acrescenta-se <code>radius = 0.9</code> que muda o raio da pizza e <code>explode = 0.1</code> que determina o afastamento das fatias (0, as mantém juntas). Além disso, como o gráfico exibe rótulos com textos muito grandes, usa-se o argumento <code>labelcex = 1</code>. Como qualquer função nova, basta clicar na tecla <em>Tab</em>, dentro da mesma, que aparece um menu com as alternativas de argumentos.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (plotrix)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pie3D</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">8</span>),</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Odeiam"</span>, <span class="st">"Não gostam"</span>, <span class="st">"Indiferentes"</span>, <span class="st">"Amam"</span>),</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="fl">0.9</span>,</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">explode =</span> <span class="fl">0.1</span>,</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"gray58"</span>, <span class="st">"yellow4"</span>, <span class="st">"cyan"</span>, <span class="st">"tomato"</span>),</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">labelcex =</span> <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-pie3d" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pie3d-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-pie3d-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:90.0%;height:90.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pie3d-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.6: Gráfico de Pizza: Opinião dos estudantes de Medicina.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="gráfico-de-barras" class="level3" data-number="6.5.2">
<h3 data-number="6.5.2" class="anchored" data-anchor-id="gráfico-de-barras"><span class="header-section-number">6.5.2</span> Gráfico de barras</h3>
<p>Os gráficos de barra exibem a distribuição (frequências) de uma variável categórica através de barras verticais ou horizontais, ou sobrepostas <span class="citation" data-cites="kabacoff2011graphs">(<a href="references.html#ref-kabacoff2011graphs" role="doc-biblioref">13</a>)</span>.</p>
<p>Assim como o gráfico de setores, o gráfico de barras é utilizado para representar a frequência absoluta ou percentual de diferentes categorias. As barras são proporcionais as frequências. A forma mais simples de solicitar um gráfico de barra no <em>R</em> é digitar a função <code>barplot()</code> do pacote básico. Esta função é específica para desenhar gráficos de barras horizontais e verticais e usa os seguintes argumentos:</p>
<ul>
<li><strong>height</strong> <span class="math inline">\(\to\)</span> um vetor ou matriz de valores que descreve as barras que constituem o gráfico;<br>
</li>
<li><strong>width</strong> <span class="math inline">\(\to\)</span> especifica largura das barras, com padrão de 1, opcional;<br>
</li>
<li><strong>space</strong> <span class="math inline">\(\to\)</span> a quantidade de espaço (como uma fração da largura média da barra) restante antes de cada barra. Pode ser fornecido como um único número ou um número por barra;<br>
</li>
<li><strong>beside</strong> <span class="math inline">\(\to\)</span> argumento lógico para especificar se colunas devem ser mostradas lado a lado;<br>
</li>
<li><strong>col</strong> <span class="math inline">\(\to\)</span> cores das barras componentes das barras, por padrão é usado <em>grey</em> (cinza);<br>
</li>
<li><strong>border</strong> <span class="math inline">\(\to\)</span> cor das bordas das barras;<br>
</li>
<li><strong>…</strong> <span class="math inline">\(\to\)</span> outros argumentos. Consulte a ajuda do R.</li>
</ul>
<p>Para a construção do gráfico de barras simples da <a href="#fig-barra1" class="quarto-xref">Figura&nbsp;<span>6.7</span></a>, será utilizada a variável <code>categIdade</code>, anteriormente criada (<a href="#sec-tabfreq" class="quarto-xref"><span>Seção 6.4.2.2</span></a>), a partir do conjunto de dados <code>dadosMater.xlsx</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(mater<span class="sc">$</span>categIdade))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-barra1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-barra1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-barra1-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-barra1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.7: Gráfico de barra simples.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Observando a <a href="#fig-barra1" class="quarto-xref">Figura&nbsp;<span>6.7</span></a>, verifica-se que não existem rótulos nos eixos <em>x</em> e <em>y</em> e o eixo <em>y</em> tem um tamanho inferior a barra mais alta. Estes e outros problemas podem ser resolvidos modificando-se ou acrescentando outros argumentos na função <code>barplot()</code>. Existem vários argumentos e para conhece-los melhor pesquise no <em>Help</em> do RStudio. Em um gráfico de barra simples são suficientes as seguintes modificações que irão resultar na <a href="#fig-barra2" class="quarto-xref">Figura&nbsp;<span>6.8</span></a>:</p>
<ul>
<li>Para corrigir a amplitude do eixo <em>y</em>, existe o argumento <code>ylim = c(lim inf, lim sup)</code>. Na <a href="#tbl-tisch" class="quarto-xref">Tabela&nbsp;<span>6.2</span></a>, observa-se que a frequência máxima é de 992, assim estende-se até 1000, bem próximo da frequência da categoria, acrescentando <code>ylim = c (0,1000)</code>, separado por vírgulas de outros argumentos.</li>
<li>Para os rótulos se utiliza os argumentos <code>ylab = (“Frequência”)</code> e <code>xlab = (“Faixa Etária”)</code>. Também, pode ser incluído um título no gráfico com o argumento <code>main = “Título”</code>. Observe que os títulos estão entre aspas.</li>
<li>Para modificar o tamanho das letras dos eixos <em>x</em> e <em>y</em>, que estão pouco visíveis, existe o argumento <code>cex.lab = 1</code>, que é o padrão. Para aumentar em 30%, por exemplo, usar <code>cex.lab = 1.3</code>. Os nomes tem padrão <code>cex.names = 1,</code> para modificar pode-se usar 1.3, 1.5, etc. Se nada for modificado, o <em>R</em> imprime o padrão.</li>
<li>Para a cor das barras, use o argumento <code>col = (“cor”)</code>. Escolha a cor entre as 657 opções, ou deixe o padrão cinza (<em>grey</em>). O argumento <code>col.axis = “cor”</code> controla a cor dos valores dos eixos (veja também <a href="#sec-cores" class="quarto-xref"><span>Seção 6.6.3</span></a>).</li>
<li>Para modificar a borda das barras que por padrão é preta, usar o argumento <code>border = “cor”</code>. Se não desejar a borda, basta colocar 0 (zero), no lugar da cor.</li>
<li>Para colocar as barras na posição horizontal, pode ser utilizado o argumento <code>horiz = TRUE</code>. Lembrar de inverter as barras. Ou seja, a variável x passa a ser y e vice-versa.</li>
<li>O argumento <code>las = 1</code> faz o o texto do eixo <em>y</em> ficar horizontal</li>
<li>A função <code>box(bty = "L")</code>, colocada após é opcional e faz os eixos se encontraren em 0.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(mater<span class="sc">$</span>categIdade), </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>,<span class="dv">1000</span>), </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span> <span class="st">"tomato"</span>, </span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">border =</span> <span class="st">"black"</span>, </span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab=</span> <span class="st">"Frequência absoluta"</span>, </span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">"Faixa etária"</span>, </span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.lab =</span> <span class="fl">1.2</span>,</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">"L"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-barra2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-barra2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-barra2-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-barra2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.8: Gráfico de barra simples modificado.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Para que as barras fiquem horizontais como na <a href="#fig-barrah" class="quarto-xref">Figura&nbsp;<span>6.9</span></a>, usa-se o argumento <code>horiz=TRUE</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(mater<span class="sc">$</span>categIdade), </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlim =</span> <span class="fu">c</span> (<span class="dv">0</span>,<span class="dv">1000</span>), </span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span> <span class="st">"tomato"</span>, </span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">border =</span> <span class="st">"black"</span>, </span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab=</span> <span class="st">"Faixa Etária"</span>, </span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">"Frequência absoluta"</span>, </span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.lab =</span> <span class="fl">1.2</span>, </span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">horiz=</span><span class="cn">TRUE</span>)</span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">"L"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-barrah" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-barrah-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-barrah-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-barrah-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.9: Gráfico com barras horizontais.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Além das modificações realizadas, pode-se fazer outras para tornar o gráfico mais informativo . Por exemplo, colocar as frequência de cada barra no topo das mesmas (<a href="#fig-barra3" class="quarto-xref">Figura&nbsp;<span>6.10</span></a>):</p>
<ul>
<li><strong>1º Passo</strong>: Criar um gráfico de barras , colocando-o em um objeto qualquer, por exemplo, <em>x</em> <a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>, que conterá o eixo <em>X</em> do centro de cada uma das barras. Para verificar isso, basta executar o objeto <em>x</em>;</li>
<li><strong>2º Passo</strong>: colocar a tabela <code>table(mater$idadeCateg)</code> como um objeto <em>y</em> <a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>, onde estarão as frequências absolutas);</li>
<li><strong>3º Passo</strong>: usar a função <code>text()</code> para colocar os valores.Consulte o <em>Help</em> para maiores detalhes desta função.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">table</span>(mater<span class="sc">$</span>categIdade)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">barplot</span>(y, </span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>,<span class="dv">1000</span>), </span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">col=</span> <span class="st">"springgreen"</span>, </span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">border =</span> <span class="st">"black"</span>, </span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">ylab =</span> <span class="st">"Frequência absoluta"</span>, </span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">xlab =</span> <span class="st">"Faixa etária"</span>, </span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">cex.lab =</span> <span class="fl">1.2</span>,</span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">"L"</span>)</span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span> (x, y, <span class="at">labels =</span> <span class="fu">as.character</span>(y), <span class="at">adj =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">2</span>), <span class="at">col =</span> <span class="st">"black"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-barra3" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-barra3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-barra3-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-barra3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.10: Gráfico de barra simples com frequências no topo.
</figcaption>
</figure>
</div>
</div>
</div>
<section id="gráfico-de-barras-empilhadas" class="level4" data-number="6.5.2.1">
<h4 data-number="6.5.2.1" class="anchored" data-anchor-id="gráfico-de-barras-empilhadas"><span class="header-section-number">6.5.2.1</span> Gráfico de barras empilhadas</h4>
<p>Para este tipo de apresentação são utilizados, praticamente, os mesmos argumentos vistos para gerar um gráfico de barra simples. Como existem duas variáveis, há necessidade de avisar ao <em>R</em> como elas devem aparecer. Para isso, entra o argumento <code>beside = FALSE</code>, que informa que as barras não estarão uma ao lado da outra e sim empilhadas (<a href="#fig-stacked" class="quarto-xref">Figura&nbsp;<span>6.11</span></a>). O padrão é as barras ficarem uma ao lado da outra.<br>
Acrescenta-se uma legenda com a função <code>legend()</code> na parte superior esquerda (<code>topleft</code>). O argumento <code>bty = "n"</code> informa que será removido o quadro ao redor da legenda e <code>fill = c("dimgrey", "salmon")</code> são as cores das barras.</p>
<p>As duas variáveis a serem visualizadas são o <em>hábito tabagista</em> entre as puérperas de acordo com a <em>idade</em>. No conjunto de dados dadosMater.xlsx, o hábito tabagista está registrado na variável <code>fumo</code>, vista quando se estudou tabelas de contingência. Aqui se construirá uma tabela 3 x 2, <code>tabFumo2</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>tabFumo2 <span class="ot">&lt;-</span> <span class="fu">table</span>(mater<span class="sc">$</span>fumo, mater<span class="sc">$</span>categIdade)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(tabFumo2,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">beside =</span> <span class="cn">FALSE</span>,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>),</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">"Faixa Etária"</span>, </span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Frequência"</span>, </span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">c</span> (<span class="st">"dimgrey"</span>, <span class="st">"cadetblue1"</span>),  </span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">"L"</span>)</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span> (<span class="st">"topleft"</span>,</span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Fumantes"</span>, <span class="st">"Não Fumantes"</span>), </span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"dimgrey"</span>, <span class="st">"cadetblue1"</span>), </span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">bty=</span><span class="st">"n"</span>, </span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex =</span> <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-stacked" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-stacked-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-stacked-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:90.0%;height:90.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-stacked-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.11: Gráfico de barras empilhadas.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="gráfico-de-barras-lado-a-lado" class="level4" data-number="6.5.2.2">
<h4 data-number="6.5.2.2" class="anchored" data-anchor-id="gráfico-de-barras-lado-a-lado"><span class="header-section-number">6.5.2.2</span> Gráfico de barras lado a lado</h4>
<p>É igual a anterior, apenas com o argumento <code>beside = TRUE</code> (<a href="#fig-side" class="quarto-xref">Figura&nbsp;<span>6.12</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(tabFumo2,</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">beside =</span> <span class="cn">TRUE</span>,</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>),</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">"Faixa Etária"</span>, </span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Frequência"</span>, </span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">c</span> (<span class="st">"dimgrey"</span>, <span class="st">"cadetblue1"</span>),  </span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">"L"</span>)</span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span> (<span class="st">"topleft"</span>,</span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Fumantes"</span>, <span class="st">"Não Fumantes"</span>), </span>
<span id="cb88-14"><a href="#cb88-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"dimgrey"</span>, <span class="st">"cadetblue1"</span>), </span>
<span id="cb88-15"><a href="#cb88-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">bty=</span><span class="st">"n"</span>, </span>
<span id="cb88-16"><a href="#cb88-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex =</span> <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-side" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-side-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-side-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:90.0%;height:90.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-side-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.12: Gráfico de barras lado a lado
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="gráfico-de-barras-para-uma-variável-discreta" class="level4" data-number="6.5.2.3">
<h4 data-number="6.5.2.3" class="anchored" data-anchor-id="gráfico-de-barras-para-uma-variável-discreta"><span class="header-section-number">6.5.2.3</span> Gráfico de barras para uma variável discreta</h4>
<p>A variável <code>mater$para</code>, número de filhos anteriores ao atual, é uma variável numérica discreta e, para representá-la, o mais adequado é usar um gráfico de barras simples (<a href="#fig-discreta" class="quarto-xref">Figura&nbsp;<span>6.13</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>tab_filhos<span class="ot">&lt;-</span> <span class="fu">table</span> (mater<span class="sc">$</span>para) </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span> (tab_filhos, </span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="st">"tomato"</span>, </span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">xlab=</span><span class="st">"Número de filhos anteriores ao atual"</span>, </span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">"Frequência"</span>,</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">500</span>),</span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">"L"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-discreta" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-discreta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-discreta-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-discreta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.13: Gráfico de barras para uma variável discreta
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="sec-errorbar" class="level3" data-number="6.5.3">
<h3 data-number="6.5.3" class="anchored" data-anchor-id="sec-errorbar"><span class="header-section-number">6.5.3</span> Gráfico de barra de erro</h3>
<p>O <em>gráfico de barra de erro</em> é um tipo de gráfico barra acrescido de uma medida de dispersão: desvio padrão, intervalos de confiança ou erro padrão. As barras de erro dão uma ideia geral de quão precisa é uma medição ou, inversamente, quão longe o valor observado está do valor verdadeiro.</p>
<p>Continuando a usar o arquivo <code>dadosMater.xlsx</code>, será selecionada uma amostra de recém-nascidos a termo, definido pela OMS como o nascido de 37 semanas completas a 42 semanas incompletas (259 a 293 dias). A partir destes dados, será construido um gráfico de barra de erro dos recém-nascidos do sexo masculino e feminino.</p>
<p>Inicialmente, deve ser instalado e carregado o pacote <code>Hmisc</code> <span class="citation" data-cites="harrell2022hmisc">(<a href="references.html#ref-harrell2022hmisc" role="doc-biblioref">14</a>)</span>, necessário para fornecer a função <code>errbar()</code> que irá construir o gráfico de de barra de erro.</p>
<p>A seguir, serão filtrados do conjunto de dados em uso, <code>mater</code>, os recém-nascidos a termo. O conjunto resultante será atribuído a um objeto denominado <code>rnt</code> e , usando o operador pipe %&gt;% será usada a função <code>summarise()</code> e <code>group_by()</code> provenientes do pacote <code>dplyr</code>, para calcular as medidas resumidoras, de acordo com o sexo. Como a variável <code>sexo</code> encontra-se como numérica, será transformada em fator:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span>(mater<span class="sc">$</span>sexo,</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">'masc'</span>, <span class="st">'fem'</span>))</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a> rnt <span class="ot">&lt;-</span> mater <span class="sc">%&gt;%</span> </span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(ig <span class="sc">&gt;=</span> <span class="dv">37</span> <span class="sc">&amp;</span> ig <span class="sc">&lt;</span> <span class="dv">42</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(sexo) <span class="sc">%&gt;%</span> </span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">media =</span> <span class="fu">mean</span>(pesoRN, <span class="at">na.rm =</span> T),</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">dp =</span> <span class="fu">sd</span>(pesoRN, <span class="at">na.rm =</span> T),</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">l_inf =</span> media <span class="sc">-</span> <span class="fl">1.96</span><span class="sc">*</span>dp,</span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">l_sup =</span> media <span class="sc">+</span> <span class="fl">1.96</span><span class="sc">*</span>dp)</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a> rnt</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  sexo      n media    dp l_inf l_sup
  &lt;fct&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 masc    592 3274.  458. 2376. 4172.
2 fem     493 3147.  458. 2250. 4044.</code></pre>
</div>
</div>
<p>O próximo passo é criar um objeto, denominado <code>barras</code>, que irá receber as médias dos pesos dos recém-nascidos masculinos e femininos, que representam a altura das barras. Este objeto servirá de base para a construção de um gráfico de barras que será recebido por outro objeto, <code>bp</code>. Finalmente, coloca-se os limites inferiores e superiores para cada sexo, usando os valores calculados pela função <code>summarise()</code> que junto com o objeto bp constituem-se de argumentos da função <code>errbar()</code> (<a href="#fig-errorbar" class="quarto-xref">Figura&nbsp;<span>6.14</span></a>). Veja maiores detalhes na ajuda do <em>R</em> (<code>?errbar</code>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>barras <span class="ot">&lt;-</span> <span class="fu">c</span>(rnt<span class="sc">$</span>media[<span class="dv">1</span>], rnt<span class="sc">$</span>media[<span class="dv">2</span>])</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a> bp <span class="ot">&lt;-</span> <span class="fu">barplot</span>(barras,</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">4200</span>), </span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">ylab =</span> <span class="st">"Peso do Recém-nascido (g)"</span>,</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">cex.lab =</span> <span class="fl">1.2</span>,</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">cex.axis =</span> <span class="fl">0.8</span>,</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">space =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.5</span>),</span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">"Meninos"</span>, <span class="st">"Meninas"</span>), </span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"lightblue"</span>, <span class="st">" pink2"</span>),</span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a> <span class="fu">box</span>(<span class="at">bty =</span> <span class="st">"L"</span>)</span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a> lim_inf <span class="ot">&lt;-</span> <span class="fu">c</span>(rnt<span class="sc">$</span>l_inf[<span class="dv">1</span>], rnt<span class="sc">$</span>l_inf[<span class="dv">2</span>])</span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a> lim_sup <span class="ot">&lt;-</span> <span class="fu">c</span>(rnt<span class="sc">$</span>l_sup[<span class="dv">1</span>], rnt<span class="sc">$</span>l_sup[<span class="dv">2</span>])</span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-18"><a href="#cb92-18" aria-hidden="true" tabindex="-1"></a> <span class="fu">errbar</span>(bp, barras, lim_inf, lim_sup, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">xlab =</span> <span class="cn">NULL</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-errorbar" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-errorbar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-errorbar-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-errorbar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.14: Gráfico de barras de erro
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="sec-histograma" class="level3" data-number="6.5.4">
<h3 data-number="6.5.4" class="anchored" data-anchor-id="sec-histograma"><span class="header-section-number">6.5.4</span> Histograma</h3>
<p>O <em>histograma</em> é uma ferramenta gráfica que fornece informações sobre o formato da distribuição e dispersão dos dados, permitindo verificar se existe ou não simetria. É usado para dados contínuos.</p>
<p>No histograma, as frequências observadas são representadas por intervalos de classes de ocorrência que estão no eixo <em>x</em> e a altura das barras, representando a frequência de cada intervalo, no eixo <em>y</em>. A área de cada barra é proporcional à porcentagem de observações de cada intervalo.</p>
<p>O <em>R</em> base possui uma função, denominada de <code>hist()</code> que constroi o histograma e possui vários argumentos:</p>
<ul>
<li><strong>x</strong> <span class="math inline">\(\to\)</span> um vetor numérico usado na construção do histograma<br>
</li>
<li><strong>breaks</strong> <span class="math inline">\(\to\)</span> especifica o número de barras</li>
<li><strong>freq</strong> <span class="math inline">\(\to\)</span> lógico; se <code>TRUE</code> (padrão), o histograma é uma representação de frequências; se <code>FALSE</code>, densidades de probabilidade, densidade de componentes, são plotados</li>
<li><strong>col</strong> <span class="math inline">\(\to\)</span> cor a ser usada para preencher as barras. O padrão de NULL produz barras não preenchidas</li>
<li><strong>border</strong> <span class="math inline">\(\to\)</span> cor da borda ao redor das barras. O padrão é usar a cor de primeiro plano padrão</li>
<li><strong>main, xlab, ylab</strong> <span class="math inline">\(\to\)</span> rótulo do título, do eixo <em>x</em> e do eixo <em>y</em>. Para remover o rótulousar <code>NULL.</code></li>
<li><strong>xlim, ylim</strong> <span class="math inline">\(\to\)</span> limites do eixo <em>x</em> e do eixo <em>y</em>.</li>
</ul>
<section id="histograma-simples" class="level4" data-number="6.5.4.1">
<h4 data-number="6.5.4.1" class="anchored" data-anchor-id="histograma-simples"><span class="header-section-number">6.5.4.1</span> Histograma Simples</h4>
<p>Será usada a variável <code>altura</code>, incluída da arquivo <code>mater</code> (veja início da <a href="#sec-tabelas" class="quarto-xref"><span>Seção 6.4</span></a>), para a construção do histograma, executando:.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mater<span class="sc">$</span>altura)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-histb" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-histb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-histb-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-histb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.15: Histograma básico
</figcaption>
</figure>
</div>
</div>
</div>
<p>No histograma da <a href="#fig-histb" class="quarto-xref">Figura&nbsp;<span>6.15</span></a>, observam-se alguns problemas que devem ser melhorados para tornar a sua aparência mais elegante.</p>
<ul>
<li>O rótulo dos eixo <em>x</em> está com o nome da variável e do eixo <em>y</em> está em inglês;</li>
<li>O título do histograma está em inglês e repete o eixo <em>x</em>. Pode ser removido.</li>
<li>O eixo <em>y</em> tem um limite superior menor do que a barra mais alta;</li>
<li>O gráfico está na cor cinza, que conforme o interesse pode ser modificada;</li>
<li>O número de barras pode ser modificado com o argumento <code>breaks</code>. Existe uma função no R que permite calcular o número de intervalos, usando a <em>regra de Sturges</em> (<code>nclass.Sturges()</code>). Entretanto, na maioria das vezes, é o objetivo do estudo quem determina o número de barras e, também, porque nem sempre o R obedece ao argumento.</li>
</ul>
<p>É importante saber o limite inferior e superior da variável, para construir o eixo <em>x</em>. Pode-se fazer isso, com as funções <code>min()</code> e <code>max()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(mater<span class="sc">$</span>altura, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(mater<span class="sc">$</span>altura, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.85</code></pre>
</div>
</div>
<p>O número de classes é igual a:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nclass.Sturges</span>(mater<span class="sc">$</span>altura)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
</div>
<p>Acrescentado argumentos, modifica-se o aspecto do histograma (<a href="#fig-histmod" class="quarto-xref">Figura&nbsp;<span>6.16</span></a>):</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mater<span class="sc">$</span>altura,</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">12</span>,</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>, <span class="dv">450</span>),</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span> (<span class="fl">1.4</span>, <span class="fl">1.9</span>),</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span> <span class="cn">NULL</span>, </span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Frequência"</span>, </span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Altura da gestante (metros)"</span>,</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"tomato"</span>,</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">"L"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-histmod" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-histmod-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-histmod-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-histmod-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.16: Histograma modificado
</figcaption>
</figure>
</div>
</div>
</div>
<p>Observe que o formato do histograma é igual ao anterior, mudando a cor das barras, o limite do eixo <em>y</em> e os rótulos dos eixos. O R não modificou o número de barras. Ou seja, não obedeceu à modificação do argumento <code>breaks = 12</code>. A função escolheu o que achou mais adequado!</p>
</section>
<section id="histograma-com-curva-normal-sobreposta" class="level4" data-number="6.5.4.2">
<h4 data-number="6.5.4.2" class="anchored" data-anchor-id="histograma-com-curva-normal-sobreposta"><span class="header-section-number">6.5.4.2</span> Histograma com curva normal sobreposta</h4>
<p>Eventualmente, para melhor comparar a distribuição dos dados, é interessante incluir uma curva normal sobreposta que servirá de indicador (<a href="#fig-histnormal" class="quarto-xref">Figura&nbsp;<span>6.17</span></a>). A distribuição normal será discutida mais adiante (<a href="07-probabilidades.html#sec-normal" class="quarto-xref"><span>Seção 7.7</span></a>).</p>
<p>Os passos para colocar a curva normal sobreposta são:</p>
<ol type="1">
<li><p>Construir um histograma de densidade, que é a proporção de todas as observações que se enquadram dentro do intervalo. Na função <code>hist()</code>, modificar o argumento para <code>freq = FALSE</code>.</p></li>
<li><p>Adicionar uma curva normal ao histograma, usando a função <code>curve()</code>. Calcular antes a média e o desvio padrão da variável <code>mater$altura</code>.</p></li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="fu">mean</span>(mater<span class="sc">$</span>altura, <span class="at">na.rm =</span><span class="cn">TRUE</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">sd</span>(mater<span class="sc">$</span>altura, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mater<span class="sc">$</span>altura,</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>, <span class="dv">6</span>),</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span> (<span class="fl">1.4</span>, <span class="fl">1.9</span>),</span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span> <span class="cn">NULL</span>, </span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Densidade"</span>, </span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Altura da gestante (metros)"</span>,</span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span><span class="st">"steelblue"</span>,</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">freq =</span> <span class="cn">FALSE</span>,            </span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">border =</span> <span class="st">"white"</span>)</span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span> (<span class="at">bty =</span> <span class="st">"L"</span>)</span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span> (<span class="fu">dnorm</span> (x, </span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">mean=</span>mu, </span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">sd=</span>dp), </span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">col=</span><span class="st">"red"</span>, </span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty=</span><span class="dv">1</span>,</span>
<span id="cb101-20"><a href="#cb101-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">lwd=</span><span class="dv">2</span>,</span>
<span id="cb101-21"><a href="#cb101-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">add=</span><span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-histnormal" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-histnormal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-histnormal-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-histnormal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.17: Histograma com curva normal sobreposta
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="componentes-do-histograma" class="level4" data-number="6.5.4.3">
<h4 data-number="6.5.4.3" class="anchored" data-anchor-id="componentes-do-histograma"><span class="header-section-number">6.5.4.3</span> Componentes do Histograma</h4>
<p>Para verificar a lista de componentes de um histograma , há necessidade de colocar o histograma da <span class="quarto-unresolved-ref">?fig-histh</span> em um objeto, no exemplo, denominado de <code>h</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="fu">hist</span>(mater<span class="sc">$</span>altura,</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">breaks =</span> <span class="dv">8</span>,</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>, <span class="dv">450</span>),</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlim =</span> <span class="fu">c</span> (<span class="fl">1.4</span>, <span class="fl">1.9</span>),</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">main=</span> <span class="cn">NULL</span>, </span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">ylab =</span> <span class="st">"Frequência"</span>, </span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlab =</span> <span class="st">"Altura da gestante (metros)"</span>,</span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span><span class="st">"tomato"</span>,</span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">freq =</span> <span class="cn">TRUE</span>,           </span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">border =</span> <span class="st">"white"</span>)</span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">box</span> (<span class="at">bty =</span> <span class="st">"L"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="06-descrevendoDados_files/figure-html/histh-1.png" style="width:80.0%;height:80.0%" class="figure-img"></p>
<figcaption>Histograma da altura da gestante</figcaption>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>h</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$breaks
 [1] 1.40 1.45 1.50 1.55 1.60 1.65 1.70 1.75 1.80 1.85

$counts
[1]  18  87 304 406 334 151  50  16   2

$density
[1] 0.26315789 1.27192982 4.44444444 5.93567251 4.88304094 2.20760234 0.73099415
[8] 0.23391813 0.02923977

$mids
[1] 1.425 1.475 1.525 1.575 1.625 1.675 1.725 1.775 1.825

$xname
[1] "mater$altura"

$equidist
[1] TRUE

attr(,"class")
[1] "histogram"</code></pre>
</div>
</div>
<p>Uma das utilidades dos componentes, é construir um histograma com os valores correspondentes as barras sobrepostos ao gráfico (<a href="#fig-histfreq" class="quarto-xref">Figura&nbsp;<span>6.18</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mater<span class="sc">$</span>altura,</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">8</span>,</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>, <span class="dv">450</span>),</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span> (<span class="fl">1.4</span>, <span class="fl">1.9</span>),</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span> <span class="cn">NULL</span>, </span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Frequência"</span>, </span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Altura da gestante (metros)"</span>,</span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"salmon"</span>)</span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span> (<span class="at">bty =</span> <span class="st">"L"</span>)</span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span> (h<span class="sc">$</span>mids, h<span class="sc">$</span>counts, <span class="at">labels =</span> h<span class="sc">$</span>counts, <span class="at">adj=</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="sc">-</span><span class="fl">0.5</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-histfreq" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-histfreq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-histfreq-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-histfreq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.18: Histograma com frequência sobreposta
</figcaption>
</figure>
</div>
</div>
</div>
<p>Note que as informações deste gráfico são as mesmas de uma tabela de frequência construída com os mesmos dados. Maneiras diferentes de informar uma distribuição de frequência (veja a <a href="#sec-freq" class="quarto-xref"><span>Seção 6.4.2</span></a>).</p>
</section>
</section>
<section id="sec-bxp" class="level3" data-number="6.5.5">
<h3 data-number="6.5.5" class="anchored" data-anchor-id="sec-bxp"><span class="header-section-number">6.5.5</span> Boxplot</h3>
<p>O <em>boxplot</em> descreve a distribuição de uma variável contínua exibindo o resumo de cinco números: mínimo, 1º quartil (percentil 25), mediana (percentil 50), 3ª quartil (percentil 75) e máximo (<a href="#fig-boxplot" class="quarto-xref">Figura&nbsp;<span>6.19</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-boxplot" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-boxplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://i.imgur.com/Dh2UszX.png" class="quarto-figure quarto-figure-center figure-img" style="width:70.0%;height:70.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-boxplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.19: Boxplot
</figcaption>
</figure>
</div>
</div>
</div>
<section id="boxplot-a-partir-de-um-vetor" class="level4" data-number="6.5.5.1">
<h4 data-number="6.5.5.1" class="anchored" data-anchor-id="boxplot-a-partir-de-um-vetor"><span class="header-section-number">6.5.5.1</span> Boxplot a partir de um vetor</h4>
<p>Para construir um boxplot, serão usados os mesmos dados dos recém-nascidos a termo, filtrados do conjunto de dados <code>dadosMater.xlsx</code>, como realizado na seção da construção de um gráfico de barra de erro (<a href="#sec-errorbar" class="quarto-xref"><span>Seção 6.5.3</span></a>). Os dados obtidos, novamente serão atribuídos a um objeto de nome <code>rnt</code>. A variável usada para construir o boxplot será <code>rnt$pesoRN</code>.</p>
<p>O <em>R</em> possui uma função no pacote básico denominada <code>boxplot()</code> que foi usada para construir o gráfico da Figura <a href="#fig-bxps" class="quarto-xref">Figura&nbsp;<span>6.20</span></a>. A função solicita vários argumentos que podem alterar a sua aparência e devem ser utilizados de acordo com necessidade:</p>
<ul>
<li><strong>formula</strong> <span class="math inline">\(\to\)</span> este parâmetro é definido como um vetor ou uma fórmula (y ~ grupo);</li>
<li><strong>data</strong> <span class="math inline">\(\to\)</span>este parâmetro define o conjunto de dados;</li>
<li><strong>notch</strong> <span class="math inline">\(\to\)</span> parâmetro lógico. Se TRUE um entalhe será desenhado em cada lado da caixa, representando o intervalo de confiança para a mediana. Se os entalhes de dois boxplots não se sobrepuserem, indica uma “forte evidência” de que as duas medianas diferem;</li>
<li><strong>varwidth</strong> <span class="math inline">\(\to\)</span> parâmetro lógico. Se for TRUE, as caixas serão desenhadas com larguras proporcionais às raízes quadradas do número de observações nos grupos;</li>
<li><strong>border</strong> <span class="math inline">\(\to\)</span>um vetor opcional de cores para os contornos dos boxplots:</li>
<li><strong>main</strong> <span class="math inline">\(\to\)</span> este parâmetro é o título do gráfico;</li>
<li><strong>xlab, ylab</strong> <span class="math inline">\(\to\)</span> rótulos dos eixos x e y ;</li>
<li><strong>cex</strong> <span class="math inline">\(\to\)</span> ver https://www.statology.org/r-plot-cex/;</li>
<li><strong>las</strong> <span class="math inline">\(\to\)</span> altera orientação do rótulos do eixo. Valores aceitos 0 (paralelo ao eixo), 1 (horizontal), 2 (perpendicular) e 3 (vertical);</li>
<li><strong>names</strong> <span class="math inline">\(\to\)</span> Este parâmetro são os rótulos dos grupos que serão mostrados em cada boxplot;</li>
<li><strong>…</strong> <span class="math inline">\(\to\)</span> Outros parâmetros (ver ajuda do <em>R</em>, digitando ?boxplot no Console)</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>rnt <span class="ot">&lt;-</span> mater <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ig <span class="sc">&gt;=</span> <span class="dv">37</span> <span class="sc">&amp;</span> ig <span class="sc">&lt;</span> <span class="dv">42</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>rnt<span class="sc">$</span>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span>(rnt<span class="sc">$</span>sexo,</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"masc"</span>, <span class="st">"fem"</span>))</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (rnt<span class="sc">$</span>pesoRN)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bxps" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bxps-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bxps-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bxps-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.20: Boxplot simples
</figcaption>
</figure>
</div>
</div>
</div>
<p>Esse boxplot pode ser modificado (<a href="#fig-bxpmod" class="quarto-xref">Figura&nbsp;<span>6.21</span></a>), alterando alguns argumentos como colocação de um título no gráfico, e rótulos nos eixos e mudança na cor. Os argumento <code>cex.lab</code>, <code>cex.axis</code> e <code>cex.names</code> estabelecem o tamanho fontes. Por exemplo, para aumentar em 20%, usamos 1.2.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (rnt<span class="sc">$</span>pesoRN, </span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="st">"lightblue2"</span>, </span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">main =</span> <span class="st">"RN a termo"</span>, </span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">"Peso do Recém-nascido (g)"</span>,</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">border =</span> <span class="st">"black"</span>,</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="fl">1.2</span>, </span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">las =</span> <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bxpmod" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bxpmod-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bxpmod-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bxpmod-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.21: Boxplot modificado
</figcaption>
</figure>
</div>
</div>
</div>
<p><u>Interpretação do boxplot</u></p>
<p>O boxplot nos fornece uma análise visual da posição, dispersão, simetria, caudas e valores discrepantes (<em>outliers</em>) do conjunto de dados (<a href="#fig-boxplot" class="quarto-xref">Figura&nbsp;<span>6.19</span></a>).</p>
<ul>
<li><strong>Posição</strong> – Em relação à posição dos dados, observa-se a linha central do retângulo (a mediana ou segundo quartil).</li>
<li><strong>Dispersão</strong> – A dispersão dos dados pode ser representada pelo intervalo interquartil (IIQ), tamanho da caixa, que é a diferença entre o terceiro quartil (3ºQ) e o primeiro quartil (1ºQ), ou ainda pela amplitude que é calculada da seguinte maneira: valor máximo – valor mínimo. Embora a amplitude seja de fácil entendimento, o intervalo interquartil é uma estatística mais robusta para medir variabilidade uma vez que não sofre influência de <em>outliers</em>.</li>
<li><strong>Simetria</strong> – Um conjunto de dados que tem uma distribuição simétrica, terá a linha da mediana no centro do retângulo. Quando a linha da mediana está próxima ao primeiro quartil, os dados são assimétricos positivos e quando a posição da linha da mediana é próxima ao terceiro quartil, os dados são assimétricos negativos. Vale lembrar que a mediana é a medida de tendência central mais indicada quando os dados possuem distribuição assimétrica, uma vez que a média aritmética é influenciada pelos valores extremos.</li>
<li><strong>Caudas</strong> – As linhas que vão do retângulo até aos outliers podem fornecer o comprimento das caudas da distribuição.</li>
<li><strong>Valores atípicos</strong> (<em>Outliers</em>) – Os outliers indicam possíveis valores discrepantes. No boxplot, as observações são consideradas atípicas quando estão abaixo ou acima dos limites superior e inferior. O limite de detecção de <em>outliers</em> é construído utilizando o intervalo interquartil, dado pela distância entre o primeiro e o terceiro quartil. Sendo assim, os limites inferior e superior de detecção de <em>outlier</em> são dados por:
<ul>
<li>o <em>Limite Inferior</em>: 1ºQ – (1,5 * IIQ);</li>
<li>o <em>Limite Superior</em>: 3ºQ + (1,5 * IIQ). Tanto o limite superior como o inferior são representados por (º).</li>
<li>os <strong>Valores extremos</strong>: são valores que estão acima ou abaixo de 3 vezes o IIQ e são representados por (*).</li>
</ul></li>
</ul>
</section>
<section id="adicionando-pontos-ao-boxplot" class="level4" data-number="6.5.5.2">
<h4 data-number="6.5.5.2" class="anchored" data-anchor-id="adicionando-pontos-ao-boxplot"><span class="header-section-number">6.5.5.2</span> Adicionando pontos ao boxplot</h4>
<p>Quando se observa um boxplot, verifica-se que os mesmos ocultam a distribuição subjacente dos dados. Para resolver este “problema”, pode-se adicionar pontos ao gráfico, usando a função <code>stripchart()</code>. Esta função permite criar um gráfico de dispersão unidimensional sobreposto ao boxplot (<a href="#fig-boxstrip" class="quarto-xref">Figura&nbsp;<span>6.22</span></a>). Os comandos para esta ação são:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (rnt<span class="sc">$</span>pesoRN, </span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span> <span class="st">"lightblue2"</span>, </span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">ylab =</span> <span class="st">"Peso do Recém-nascido (g)"</span>, </span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">border =</span> <span class="st">"black"</span>,</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">cex.lab =</span> <span class="fl">1.2</span>, </span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a> <span class="fu">stripchart</span>(<span class="at">x=</span> rnt<span class="sc">$</span>pesoRN, </span>
<span id="cb108-11"><a href="#cb108-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">method =</span> <span class="st">"jitter"</span>, </span>
<span id="cb108-12"><a href="#cb108-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">col =</span> <span class="st">"tomato"</span>,</span>
<span id="cb108-13"><a href="#cb108-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">cex =</span> <span class="fl">0.5</span>,</span>
<span id="cb108-14"><a href="#cb108-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">pch =</span> <span class="dv">16</span>,</span>
<span id="cb108-15"><a href="#cb108-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">vertical =</span> <span class="cn">TRUE</span>, </span>
<span id="cb108-16"><a href="#cb108-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-boxstrip" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-boxstrip-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-boxstrip-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-boxstrip-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.22: Boxplot com pontos de dispersão
</figcaption>
</figure>
</div>
</div>
</div>
<p>Neste exemplo, há uma grande sobreposição de pontos, pois a amostra é muito grande (n = 1085). Isto dificulta um pouco a visualização, mas ajuda a ver como a dispersão se comporta. Você também pode personalizar o símbolo (pontos) para criar o gráfico, a largura da linha e sua cor com os argumentos <code>pch</code>, <code>lwd</code> e <code>col</code>, respectivamente. Alguns símbolos, como <code>pch = 21</code> a <code>25</code> permitem que você modifique a cor de fundo do símbolo com o argumento <code>bg</code>. O argumento <code>vertical = TRUE</code>, coloca os pontos na vertical sobreposto ao boxplot, quando o argumento <code>add = TRUE</code>. O argumento <code>cex = 0.5</code> é o tamanho dos pontos e <code>method = "jitter"</code>, espalha os pontos para diminuir a sobreposição entre eles.</p>
</section>
<section id="boxplot-com-intervalos-de-confiança-para-a-mediana" class="level4" data-number="6.5.5.3">
<h4 data-number="6.5.5.3" class="anchored" data-anchor-id="boxplot-com-intervalos-de-confiança-para-a-mediana"><span class="header-section-number">6.5.5.3</span> Boxplot com intervalos de confiança para a mediana</h4>
<p>É possível representar os intervalos de confiança de 95% para a mediana em um boxplot (<a href="#fig-boxnotch" class="quarto-xref">Figura&nbsp;<span>6.23</span></a>), definindo o argumento <code>notch</code> como <code>TRUE</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (rnt<span class="sc">$</span>pesoRN, </span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span> <span class="st">"lightblue2"</span>, </span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">ylab =</span> <span class="st">"Peso do Recém-nascido (g)"</span>, </span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">border =</span> <span class="st">"black"</span>,</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">cex.lab =</span> <span class="fl">1.2</span>, </span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">notch =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-boxnotch" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-boxnotch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-boxnotch-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-boxnotch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.23: Boxplot modificado
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="estatísticas-do-boxplot" class="level4" data-number="6.5.5.4">
<h4 data-number="6.5.5.4" class="anchored" data-anchor-id="estatísticas-do-boxplot"><span class="header-section-number">6.5.5.4</span> Estatísticas do boxplot</h4>
<p>A função <code>boxplot.stats()</code> do pacote <code>grDevices</code> fornece as estatísticas do boxplot, facilitando a interpretação do mesmo, de modo semelhante ao visto para o histograma.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot.stats</span> (rnt<span class="sc">$</span>pesoRN)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$stats
[1] 2051 2920 3215 3505 4380

$n
[1] 1085

$conf
[1] 3186.939 3243.061

$out
 [1] 1440 1980 1795 1810 4400 4950 4535 4670 1425 4410 4660 1715 1895 4485 4390
[16] 4445 4620 1785</code></pre>
</div>
</div>
<p><u>Interpretação das estatísticas</u></p>
<p>* $stats = é o resumo dos 5 números: mínimo, percentil 25, mediana, percentil 75 e máximo;<br>
* $n = nº de obs;<br>
* $conf = limite inf/sup do entalhe se houver;<br>
* $out = são os <em>outliers</em>.</p>
</section>
<section id="múltiplos-boxplots" class="level4" data-number="6.5.5.5">
<h4 data-number="6.5.5.5" class="anchored" data-anchor-id="múltiplos-boxplots"><span class="header-section-number">6.5.5.5</span> Múltiplos boxplots</h4>
<p>Os boxplots são muito usados na comparação de grupos. A necessidade mais comum é ordenar as categorias de acordo com o aumento da mediana, mas isto é opcional. Permite identificar rapidamente qual grupo tem o maior valor e como as categorias são classificadas (<a href="#fig-bxpm" class="quarto-xref">Figura&nbsp;<span>6.24</span></a>).<br>
Será realizada uma comparação visual, usando boxplots, dos pesos dos recém-nascidos por sexo. As variáveis são <code>rnt$pesoRN</code> e <code>rnt$sexo</code>. Esta última está codificada como numérica 1 e 2, portanto há necessidade de ser transformada em fator:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"dados/dadosMater.xlsx"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(idadeMae, altura, peso, anosEst, fumo, </span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>         para, ig, sexo, pesoRN, compRN, utiNeo) <span class="sc">%&gt;%</span> </span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">categIdade =</span> <span class="fu">case_when</span>(</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>    idadeMae <span class="sc">&lt;</span> <span class="dv">20</span> <span class="sc">~</span> <span class="st">"&lt; 20 anos"</span>,</span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>    idadeMae <span class="sc">&gt;=</span> <span class="dv">20</span> <span class="sc">&amp;</span> idadeMae <span class="sc">&lt;=</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">"20 a 35 anos"</span>,</span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>    idadeMae <span class="sc">&gt;</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">"&gt; 35 anos"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">categIdade =</span> <span class="fu">factor</span>(categIdade, </span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"&lt; 20 anos"</span>, <span class="st">"20 a 35 anos"</span>,</span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a>                                                    <span class="st">"&gt; 35 anos"</span>)))</span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a>rnt <span class="ot">&lt;-</span> mater <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ig <span class="sc">&gt;=</span> <span class="dv">37</span> <span class="sc">&amp;</span> ig <span class="sc">&lt;</span> <span class="dv">42</span>)</span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-14"><a href="#cb112-14" aria-hidden="true" tabindex="-1"></a>rnt<span class="sc">$</span>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span>(rnt<span class="sc">$</span>sexo,</span>
<span id="cb112-15"><a href="#cb112-15" aria-hidden="true" tabindex="-1"></a>                   <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb112-16"><a href="#cb112-16" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"masc"</span>, <span class="st">"fem"</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (rnt<span class="sc">$</span>pesoRN <span class="sc">~</span> rnt<span class="sc">$</span>sexo, </span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"lightblue2"</span>, <span class="st">"pink"</span>), </span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">"Peso do Recém-nascido (g)"</span>, </span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">"Sexo"</span>,</span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">border =</span> <span class="st">"black"</span>,</span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">las =</span> <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bxpm" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bxpm-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bxpm-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bxpm-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.24: Múltiplos boxplots
</figcaption>
</figure>
</div>
</div>
</div>
<p>Observe que foi utilizado o argumento <code>rnt$pesoRN ~ rnt$sexo</code> (<em>y ~ grupo</em>) para obter os dois boxplots. Existe uma pequena diferença entre eles, as caixas são quase coincidentes. Foi suprimido o argumento (<code>xlab = sexo</code>) relativo ao rótulo do eixo <em>x</em>, pois seria redundante.</p>
<p>Pode-se fazer um entalhe (<em>notch</em>) que podem ser interpretados como um intervalo de confiança em torno dos valores medianos <a href="#fig-bxpnotch" class="quarto-xref">Figura&nbsp;<span>6.25</span></a>). É calculado pela fórmula :<span class="math inline">\(mediana \pm 1.57\times IIQ/\sqrt{n}\)</span>. No nosso exemplo, observe que o entalhe nos meninos está um pouco acima do das meninas..</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (rnt<span class="sc">$</span>pesoRN <span class="sc">~</span> rnt<span class="sc">$</span>sexo, </span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"lightblue2"</span>, <span class="st">"pink"</span>), </span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">"Peso do Recém-nascido (g)"</span>, </span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">"Sexo"</span>,</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">border =</span> <span class="st">"black"</span>,</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">notch =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bxpnotch" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bxpnotch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bxpnotch-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bxpnotch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.25: Boxplots com entalhes
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="boxplots-horizontais" class="level4" data-number="6.5.5.6">
<h4 data-number="6.5.5.6" class="anchored" data-anchor-id="boxplots-horizontais"><span class="header-section-number">6.5.5.6</span> Boxplots horizontais</h4>
<p>Para criar um boxplot horizontal <a href="#fig-bxph" class="quarto-xref">Figura&nbsp;<span>6.26</span></a>), usamos o argumento <code>horizontal = TRUE</code> e invertemos os rotulos dos eixos <em>x</em> e <em>y</em>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (rnt<span class="sc">$</span>pesoRN <span class="sc">~</span> rnt<span class="sc">$</span>sexo, </span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"lightblue2"</span>, <span class="st">"pink2"</span>), </span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">"Peso do Recém-nascido (g)"</span>, </span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="cn">NULL</span>,</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">horizontal =</span> <span class="cn">TRUE</span>,</span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">border =</span> <span class="st">"black"</span>,</span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="fl">1.2</span>, </span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">las =</span> <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bxph" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bxph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bxph-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bxph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.26: Boxplots horizontais
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="gráfico-de-dispersão" class="level3" data-number="6.5.6">
<h3 data-number="6.5.6" class="anchored" data-anchor-id="gráfico-de-dispersão"><span class="header-section-number">6.5.6</span> Gráfico de Dispersão</h3>
<p>Um gráfico de dispersão (<em>Scatterplot</em>) exibe a relação entre duas variáveis numéricas (<a href="#fig-scatter" class="quarto-xref">Figura&nbsp;<span>6.27</span></a>). Cada ponto representa uma observação. Suas posições nos eixos <em>x</em> (horizontal) e <em>y</em> (vertical) representam os valores das duas variáveis.</p>
<p>O R Base é uma boa opção para construir um gráfico de dispersão, usando a função <code>plot()</code>. Ambas as variáveis numéricas do banco de dados devem ser especificadas nos argumentos <em>x</em> e <em>y</em>.</p>
<p>A função <code>plot()</code> é uma função genérica que pode ser facilmente editada com múltiplos argumentos envolvendo os eixos e caracteres plotados da mesma maneira que foi feita com os gráficos anteriores. Aqui, novamente, serão usados os dados incluídos no conjunto de dados <code>rnt</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (<span class="at">x =</span> rnt<span class="sc">$</span>compRN,</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> rnt<span class="sc">$</span>pesoRN,</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">"Peso de Recém-nascido (g)"</span>,</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">"Comprimento do Recém-nascido (cm)"</span>,</span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.axis =</span> <span class="fl">0.8</span>,</span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">las =</span> <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatter" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.27: Gráfico de dispersão
</figcaption>
</figure>
</div>
</div>
</div>
<p>Este mesmo gráfico pode ser obtido, usando uma fórmula <code>y~x</code> e acrescentando o argumento <code>bty = "L"</code> (<a href="#fig-scatter1" class="quarto-xref">Figura&nbsp;<span>6.28</span></a>). Este argumento permite personalizar a caixa ao redor do gráfico.</p>
<ul>
<li><strong>o</strong>: caixa completa (parâmetro padrão),</li>
<li><strong>n</strong>: sem caixa</li>
<li><strong>7</strong>: superior + direita</li>
<li><strong>L</strong>: inferior + esquerda</li>
<li><strong>C</strong>: superior + esquerda + inferior</li>
<li><strong>U</strong>: esquerda + inferior + direita</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (pesoRN <span class="sc">~</span> compRN,</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> rnt,</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">"Peso de Recém-nascido (g)"</span>,</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">"Comprimento do Recém-nascido (cm)"</span>,</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.axis =</span> <span class="fl">0.8</span>,</span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">bty =</span> <span class="st">"L"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatter1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter1-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.28: Gráfico de dispersão
</figcaption>
</figure>
</div>
</div>
</div>
<p>Como em qualquer outro gráfico, este também pode ser melhorado em seu aspecto, tornando os pontos sólidos e coloridos. O argumento <code>pch</code> estabelece o tipo de pontos (<a href="#fig-pch" class="quarto-xref">Figura&nbsp;<span>6.29</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-pch" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://i.imgur.com/8VWZSGk.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.29: Símbolo dos formatos
</figcaption>
</figure>
</div>
</div>
</div>
<p>Na <a href="#fig-scatter" class="quarto-xref">Figura&nbsp;<span>6.27</span></a>, como os pontos estão aglomerados, devido a quantidade, é possível tentar espalhá-los, usando a função <code>jitter()</code> na variável <code>compRN</code> (<a href="#fig-jitter" class="quarto-xref">Figura&nbsp;<span>6.30</span></a>). O argumento 10 é variável e significa o grau de espalhamento:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (<span class="fu">jitter</span>(rnt<span class="sc">$</span>compRN,<span class="dv">10</span>),</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>      rnt<span class="sc">$</span>pesoRN,</span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">"steelblue"</span>,</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">"Peso de Recém-nascido (g)"</span>,</span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">"Comprimento do Recém-nascido (cm)"</span>,</span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">bty =</span> <span class="st">"L"</span>,</span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">pch =</span> <span class="dv">16</span>,</span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex =</span> <span class="dv">1</span>,</span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.lab =</span> <span class="fl">1.1</span>,</span>
<span id="cb118-11"><a href="#cb118-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.axis =</span> <span class="fl">0.8</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-jitter" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-jitter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-jitter-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-jitter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.30: Gráfico de dispersão com <em>jitter</em>
</figcaption>
</figure>
</div>
</div>
</div>
<section id="mapeamento-dos-pontos-de-acordo-com-uma-variável-categórica" class="level4" data-number="6.5.6.1">
<h4 data-number="6.5.6.1" class="anchored" data-anchor-id="mapeamento-dos-pontos-de-acordo-com-uma-variável-categórica"><span class="header-section-number">6.5.6.1</span> Mapeamento dos pontos de acordo com uma variável categórica</h4>
<p>Inicialmente, será criado um vetor para representar as cores, de acordo com o sexo (meninos = azul; meninas = vermelho). Usa-se a função <code>unclass()</code> para discriminar os sexos (<a href="#fig-map" class="quarto-xref">Figura&nbsp;<span>6.31</span></a>). Acrescenta-se uma legenda para ilustrar a separação.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>cores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"dodgerblue3"</span>, <span class="st">"tomato"</span>)</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> <span class="fu">jitter</span>(rnt<span class="sc">$</span>compRN, <span class="dv">10</span>), </span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> rnt<span class="sc">$</span>pesoRN,</span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">bg =</span> cores[<span class="fu">unclass</span>(rnt<span class="sc">$</span>sexo)],</span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">"Peso de Recém-nascido (g)"</span>,</span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">"Comprimento do Recém-nascido (cm)"</span>,</span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">bty =</span> <span class="st">"L"</span>,</span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> <span class="fl">1.5</span>,</span>
<span id="cb119-11"><a href="#cb119-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch=</span><span class="dv">21</span>,</span>
<span id="cb119-12"><a href="#cb119-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.lab =</span> <span class="dv">1</span>,</span>
<span id="cb119-13"><a href="#cb119-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.axis =</span> <span class="fl">0.8</span>)</span>
<span id="cb119-14"><a href="#cb119-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-15"><a href="#cb119-15" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span> (<span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Meninos"</span>, <span class="st">"Meninas"</span>), </span>
<span id="cb119-16"><a href="#cb119-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> cores, </span>
<span id="cb119-17"><a href="#cb119-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">bty=</span><span class="st">"n"</span>, </span>
<span id="cb119-18"><a href="#cb119-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex =</span> <span class="dv">1</span>,</span>
<span id="cb119-19"><a href="#cb119-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">"topleft"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-map" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-map-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.31: Mapeamento dos pontos de acordo com uma variável categórica
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="adição-da-reta-de-ajuste" class="level4" data-number="6.5.6.2">
<h4 data-number="6.5.6.2" class="anchored" data-anchor-id="adição-da-reta-de-ajuste"><span class="header-section-number">6.5.6.2</span> Adição da reta de ajuste</h4>
<p>Uma linha reta de ajuste dos dados (<a href="#fig-reta" class="quarto-xref">Figura&nbsp;<span>6.32</span></a>) pode ser acrescentada usando a função <code>abline ()</code>, associada a função <code>lm ()</code>. Um modelo típico lm (<em>linear model</em>) tem o formato <em>resposta (</em>y<em>) ~ preditor (</em>x<em>)</em>. Mais detalhes sobre o modelo de ajuste linear na <span class="quarto-unresolved-ref">?sec-rls</span> (regressão linear).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construção do gráfico de dispersão</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (<span class="fu">jitter</span>(rnt<span class="sc">$</span>compRN,<span class="dv">10</span>),</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>      rnt<span class="sc">$</span>pesoRN,</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">"gray40"</span>,</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">bg =</span> <span class="st">"darkturquoise"</span>,</span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">"Peso de Recém-nascido (g)"</span>,</span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">"Comprimento do Recém-nascido (cm)"</span>,</span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">bty =</span> <span class="st">"L"</span>,</span>
<span id="cb120-10"><a href="#cb120-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb120-11"><a href="#cb120-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex =</span> <span class="fl">1.3</span>,</span>
<span id="cb120-12"><a href="#cb120-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.lab =</span> <span class="dv">1</span>,</span>
<span id="cb120-13"><a href="#cb120-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.axis =</span> <span class="fl">0.8</span>)</span>
<span id="cb120-14"><a href="#cb120-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-15"><a href="#cb120-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Criação do modelo de ajuste</span></span>
<span id="cb120-16"><a href="#cb120-16" aria-hidden="true" tabindex="-1"></a>modelo <span class="ot">&lt;-</span> <span class="fu">lm</span> (rnt<span class="sc">$</span>pesoRN <span class="sc">~</span> rnt<span class="sc">$</span>compRN)</span>
<span id="cb120-17"><a href="#cb120-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-18"><a href="#cb120-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Adição da reta, usando o modelo</span></span>
<span id="cb120-19"><a href="#cb120-19" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span> (modelo, </span>
<span id="cb120-20"><a href="#cb120-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span><span class="st">"red"</span>, </span>
<span id="cb120-21"><a href="#cb120-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">lwd=</span><span class="dv">2</span>, </span>
<span id="cb120-22"><a href="#cb120-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">lty =</span> <span class="dv">2</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-reta" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-reta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-reta-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:80.0%;height:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-reta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.32: Gráfico de dispersão com reta de ajuste
</figcaption>
</figure>
</div>
</div>
</div>
<p>Ao executar o modelo, se obtém os parâmetros para a construção da equação da regressão linear:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(modelo)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = rnt$pesoRN ~ rnt$compRN)

Residuals:
     Min       1Q   Median       3Q      Max 
-1434.56  -218.40   -19.56   177.76  2097.87 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -3416.451    215.821  -15.83   &lt;2e-16 ***
rnt$compRN    137.674      4.475   30.77   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 337.7 on 1083 degrees of freedom
Multiple R-squared:  0.4664,    Adjusted R-squared:  0.4659 
F-statistic: 946.6 on 1 and 1083 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>A equação de predição da regressão linear permite que, conhecendo o valor do comprimento, é possível prever o peso do recem-nascido:</p>
<p><span class="math display">\[
\hat{y} = b_{0}+ b_{1}\times x
\]</span></p>
<p>Desta forma, substituindo pelos valores contidos nas estimativas da tabela dos coeficientes do sumário do modelo, um bebê com 50 cm terá um peso de aproximadamente:</p>
<p><span class="math display">\[
\hat{y} = -3416.45 + 137.67\times 50 = 3467.05
\]</span></p>
</section>
</section>
</section>
<section id="sec-ggplot2" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="sec-ggplot2"><span class="header-section-number">6.6</span> Introdução ao <code>ggplot2</code></h2>
<p>O R tem vários sistemas para fazer gráficos e, na ,maioria das vezes, eles são suficientes. Entretanto, o surgimento do <code>ggplot2</code> <span class="citation" data-cites="wickham2016ggplot2">(<a href="references.html#ref-wickham2016ggplot2" role="doc-biblioref">15</a>)</span> trouxe a possibilidade de serem construídos gráficos mais elegantes e versáteis. Além disso, torna o processo mais rápido, baseado em uma sofisticada gramática <span class="citation" data-cites="wickham2010layered">(<a href="references.html#ref-wickham2010layered" role="doc-biblioref">16</a>)</span>.</p>
<p>Os três componentes principais de cada gráfico do <code>ggplot2</code>são: dados, estética e geometria.</p>
<ol type="1">
<li><strong>Dados</strong> (<em>data</em>),</li>
<li><strong>Mapeamentos estéticos</strong> (<em>aesthetic mappings</em>) entre variáveis e propriedades visuais (como posição, cor, tamanho, forma e transparência), e</li>
<li><strong>geom</strong> são as funções que criam camadas, pelo menos uma, que descrevem como renderizar cada observação.</li>
</ol>
<section id="principais-gráficos-usando-ggplot2" class="level3" data-number="6.6.1">
<h3 data-number="6.6.1" class="anchored" data-anchor-id="principais-gráficos-usando-ggplot2"><span class="header-section-number">6.6.1</span> Principais gráficos usando <code>ggplot2</code></h3>
<section id="gráfico-de-dispersão-1" class="level4" data-number="6.6.1.1">
<h4 data-number="6.6.1.1" class="anchored" data-anchor-id="gráfico-de-dispersão-1"><span class="header-section-number">6.6.1.1</span> Gráfico de dispersão</h4>
<p>Serão usados os dados coletados em um ambulatório pediátrico relacionados à idade e ao comprimento de 40 crianças entre 18 e 36 meses (20 meninos e 20 meninas), incluídos no arquivo <code>dadosReg.xlsx</code>. Eles podem ser baixados <a href="https://github.com/petronioliveira/Arquivos/blob/main/dadosReg.xlsx">aqui</a>. Salve o arquivo no seu diretório de trabalho e carrege-o com a função <code>read_excel()</code> do pacote <code>readxl</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"dados/dadosReg.xlsx"</span>)</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dados)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [40 × 5] (S3: tbl_df/tbl/data.frame)
 $ id    : num [1:40] 1 2 3 4 5 6 7 8 9 10 ...
 $ idade : num [1:40] 18 18 19 19 20 20 21 21 22 22 ...
 $ comp  : num [1:40] 80 80 83 82 84 81 84.5 84 85 82.5 ...
 $ irmaos: num [1:40] 0 0 2 0 0 1 1 1 0 1 ...
 $ sexo  : chr [1:40] "masc" "fem" "masc" "fem" ...</code></pre>
</div>
</div>
<p>Para introduzir a lógica do <code>ggplot2</code>, será construído um gráfico de dispersão. Os mapeamentos de dados e estéticos são fornecidos na função <code>ggplot()</code> e <code>aes()</code>. Em seguida, as camadas são adicionadas com sinal <code>+</code>. Esse é um padrão importante e, à medida que se aprende mais sobre o <code>ggplot2</code>, se construirá gráficos cada vez mais sofisticados adicionando mais tipos de componentes. A primeira camada do gráfico, a <strong>camada base</strong> (<a href="#fig-base" class="quarto-xref">Figura&nbsp;<span>6.33</span></a>)), é dada pela função <code>ggplot()</code>. Essa função recebe um <code>dataframe</code> ou <code>tibble</code>, no exemplo <code>dados</code>, onde serão acrescentadas outras camadas.</p>
<p>Executando apenas a função <code>ggplot()</code>, aparece o seguinte painel:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-base" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-base-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-base-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-base-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.33: Camada base do ggplot2
</figcaption>
</figure>
</div>
</div>
</div>
<p>Observa-se um painel de cor cinza, vazio, apesar de todos os dados terem sido passados para função. Para que o gráfico seja esboçado, é necessário que as observações sejam mapeadas (estética) e as formas geométricas especificadas. Como será construído um gráfico de dispersão, que mostra a correlação entre duas variáveis (<code>idade</code> e <code>comprimento</code>), o código inicial é o seguinte:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados, </span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> idade, <span class="at">y =</span> comp)) <span class="sc">+</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatter2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter2-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.34: Gráfico de dispersão
</figcaption>
</figure>
</div>
</div>
</div>
<p>A estética, com a função <code>aes()</code>, foi adicionada na função <code>ggplot()</code> (<a href="#fig-scatter2" class="quarto-xref">Figura&nbsp;<span>6.34</span></a>) e isto significa que ela será usada em todas as outras camadas que forem acrescentadas. Pode-se colocar a a estética dentro da função do <code>geom</code> específico e ,dessa forma, funcionárá apenas para ele.</p>
<p>O mesmo resultado da <a href="#fig-scatter2" class="quarto-xref">Figura&nbsp;<span>6.34</span></a>, pode ser obtido da seguinte maneira:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> idade, <span class="at">y =</span> comp))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Em gráficos de dispersão, é útil acrescentar uma terceira camada, representando uma suavização dos dados com função <code>geom_smooth()</code>. Se você não estiver interessado no intervalo de confiança, desative-o com <code>geom_smooth(se = FALSE)</code>. Um argumento importante para <code>geom_smooth()</code> é o <code>method</code>, que permite que você escolha qual tipo de modelo é usado para ajustar a curva. Como o gráfico de dispersão indica uma correlação linear, o melhor ajuste é dado pelo <code>method = "lm"</code> que se ajusta a um modelo linear, fornecendo a reta de melhor ajuste <a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> idade, <span class="at">y =</span> comp)) <span class="sc">+</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-scatter4" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter4-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.35: Gráfico de dispersão com reta de regressão
</figcaption>
</figure>
</div>
</div>
</div>
<p>O gráfico da <a href="#fig-scatter4" class="quarto-xref">Figura&nbsp;<span>6.35</span></a>, mostra um ajuste dos pontos a uma reta, representando a correlação perfeita entre <em>x ~ y</em>. A distância dos pontos à reta é o erro (resíduo). A melhor reta ajustada é aquela em que a soma dos quadrados da distância de cada ponto (soma dos quadrados residual) em relação à reta é minimizada (veja também <span class="quarto-unresolved-ref">?sec-rls</span>. O gráfico mostra uma forte correlação: à medida que o idade aumenta, aumenta o comprimento da criança</p>
<p><u>Outros atributos estéticos</u></p>
<p>O estabelecimento das cores, formato e tamanho dos pontos pode ser realizado adicionando o argumento <code>color =</code> dentro da função <code>aes()</code>. Por exemplo:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> idade, <span class="at">y =</span> comp, <span class="at">color =</span> sexo)) <span class="sc">+</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatter5" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter5-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.36: Gráfico de dispersão com separação dos pontos por uma variável categórica (sexo)
</figcaption>
</figure>
</div>
</div>
</div>
<p>Na <a href="#fig-scatter5" class="quarto-xref">Figura&nbsp;<span>6.36</span></a>, as cores, escolhidas pelo padrão do <em>R</em>, estão separando os sexos (masculino e feminino). A legenda, à direita identifica, as cores dos sexos.<br>
O que acontece se colocarmos a cor fora da função <code>aes()</code>?</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> idade, <span class="at">y =</span> comp), <span class="at">color =</span> sexo) <span class="sc">+</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatter6" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter6-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.37: Gráfico de dispersão com a cor sendo especificada fora da aes().
</figcaption>
</figure>
</div>
</div>
</div>
<p>Não acontece nada! O <em>R</em> ignora o código e retorna um gráfico com as sua cor padrão, a preta (<a href="#fig-scatter6" class="quarto-xref">Figura&nbsp;<span>6.37</span></a>).</p>
<p>Para mudar a cor dos pontos de acordo com a nossa escolha (<a href="#fig-scatter7" class="quarto-xref">Figura&nbsp;<span>6.38</span></a>), é necessário informar a cor no <code>geom</code> (<code>color = "cor"</code>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> idade, <span class="at">y =</span> comp)) <span class="sc">+</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"tomato"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatter7" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter7-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter7-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter7-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.38: Gráfico de dispersão com a cor dos pontos por escolha pessoal
</figcaption>
</figure>
</div>
</div>
</div>
<p>Para aumentar o tamanho dos pontos usa-se o argumento <code>size =</code><a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> no <code>geom</code>; o formato é modificado, da mesma maneira, com o argumento <code>shape =</code><a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>. O tamanho do ponto pode também ser modificado de acordo com uma variável, como feito com o argumento <code>color = sexo</code> (<a href="#fig-scatter6" class="quarto-xref">Figura&nbsp;<span>6.37</span></a>), colocando o argumento dentro da função <code>aes()</code>, no <code>ggplot()</code>.</p>
<p>O código a seguir, modifica o tamanho do ponto e o seu formato de acordo com o sexo.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, </span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> idade, <span class="at">y =</span> comp, <span class="at">shape =</span> sexo)) <span class="sc">+</span> </span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"tomato"</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatter8" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter8-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter8-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter8-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.39: Gráfico de dispersão com pontos aumentados e com formatos diferentes de acordo com o sexo.
</figcaption>
</figure>
</div>
</div>
</div>
<p>A saída (<a href="#fig-scatter8" class="quarto-xref">Figura&nbsp;<span>6.39</span></a>) mostra um triangulo e um ponto, correspondendo, respectivamente, ao sexo masculino e feminino com tamanhos duas vezes maior do que o padrão.</p>
<p>Será criado outro exemplo (<a href="#fig-scatter9" class="quarto-xref">Figura&nbsp;<span>6.40</span></a>) com o argumento <code>fill = sexo</code> para permitir a visualização dos sexos com preenchimento em cores diferentes, conforme o padrão do <code>ggplot2</code>. Observe que foi utilizado o argumento dentro da estética do <code>ggplot()</code>. O argumento <code>color=“black”</code> será colocado no <code>geom_point()</code>, para colocar uma borda preta ao redor de todos os pontos. O argumento <code>shape = 21</code> corresponde a um formato de pontos vazios.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> idade, <span class="at">y =</span> comp, <span class="at">fill =</span> sexo)) <span class="sc">+</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">21</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatter9" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter9-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.40: Gráfico de dispersão semelhante ao da Figura 5, apenas com pontos maiores.
</figcaption>
</figure>
</div>
</div>
</div>
<p><u>Facetamento</u></p>
<p>Outra técnica para exibir variáveis categóricas adicionais em um gráfico é o facetamento. O facetamento cria gráficos dividindo os dados em subconjuntos e exibindo o mesmo gráfico para cada subconjunto (<a href="#fig-scatter10" class="quarto-xref">Figura&nbsp;<span>6.41</span></a>) . Para facetar um gráfico, basta adicionar uma especificação de facetamento com a função <code>facet_wrap()</code>, que recebe o nome de uma variável precedido pelo sinal <code>~</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> idade, <span class="at">y =</span> comp)) <span class="sc">+</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">fill =</span> <span class="st">"tomato"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sexo)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatter10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter10-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.41: Facetamento: gráfico de dispersão por categorias.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Para observar um padrão dominante, como feito acima (<a href="#fig-scatter4" class="quarto-xref">Figura&nbsp;<span>6.35</span></a>), pode-se adicionar ao gráfico a função <code>geom_smooth(method = "lm")</code> para ajustar um modelo linear, para comparação <a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> idade, <span class="at">y =</span> comp)) <span class="sc">+</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">fill =</span> <span class="st">"tomato"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sexo) <span class="sc">+</span></span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-scatter11" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter11-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-scatter11-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter11-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.42: Reta de regressão com intervalo de confiança por categorias
</figcaption>
</figure>
</div>
</div>
</div>
<p>Neste caso (<a href="#fig-scatter11" class="quarto-xref">Figura&nbsp;<span>6.42</span></a>), observa-se que as inclinações das retas são praticamente iguais, indicando que o <code>sexo</code> não modifica a correlação entre variáveis.</p>
</section>
<section id="sec-geom_boxplot" class="level4" data-number="6.6.1.2">
<h4 data-number="6.6.1.2" class="anchored" data-anchor-id="sec-geom_boxplot"><span class="header-section-number">6.6.1.2</span> Boxplot</h4>
<p>Na <a href="#sec-bxp" class="quarto-xref"><span>Seção 6.5.5</span></a> foi mostrado o objetivo de um boxplot, agora, será construído um boxplot, usando o <code>geom_boxplot()</code> para comparar o comprimento das crianças de acordo com o sexo (<a href="#fig-ggbxp0" class="quarto-xref">Figura&nbsp;<span>6.43</span></a>):</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> sexo, <span class="at">y =</span>  comp)) <span class="sc">+</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggbxp0" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggbxp0-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-ggbxp0-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggbxp0-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.43: FIGURA 14: Boxplot padrão do ggplot2
</figcaption>
</figure>
</div>
</div>
</div>
<p>Este é um boxplot simples, mas facilmente, pode-se modificá-lo, tornando-o mais atraente <a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>. Por exemplo, controlando a cor das caixas (<a href="#fig-ggbxp1" class="quarto-xref">Figura&nbsp;<span>6.44</span></a>) com o argumento <code>color</code> (ou <code>colour</code>) para modificar as bordas e <code>fill</code> para modificar o preenchimento das caixas. A adição do argumento <code>alpha</code> modifica a transparência de um geom. Os valores de <code>alpha</code> variam de 0 a 1, com valores mais baixos correspondendo a cores mais transparentes:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> sexo, <span class="at">y =</span>  comp)) <span class="sc">+</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">colour =</span> <span class="st">"skyblue4"</span>, </span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">"skyblue"</span>, </span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">alpha =</span> <span class="fl">0.3</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggbxp1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggbxp1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-ggbxp1-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggbxp1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.44: Boxplots com as cores das caixas alteradas.
</figcaption>
</figure>
</div>
</div>
</div>
<p>A escolha da cor pode ser realizada entre as 657 opções que o <em>R</em> oferta, consultando <a href="https://r-graph-gallery.com/ggplot2-color.html">Dealing with colors in ggplot2</a> ou <a href="chrome-extension://efaidnbmnnnibpcajpcglclefindmkaj/http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">Colors in R</a> <a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a>.</p>
<p>O boxplot oculta a distribuição subjacente dos dados. Para resolver isto, pode-se adicionar pontos ao gráfico (<a href="#fig-ggbxp2" class="quarto-xref">Figura&nbsp;<span>6.45</span></a>) usando o <code>geom_jitter()</code>. Para evitar que os pontos fiquem muito espalhados, dificultando a visualização das categorias, usa-se o argumento <code>width</code> <a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a>. Um espalhamento de 10% (<code>width = 0.10</code>)para poucos pontos, como no exemplo, parece bom, para observar a distribuição dos mesmos.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> sexo, <span class="at">y =</span>  comp)) <span class="sc">+</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">colour =</span> <span class="st">"skyblue4"</span>, </span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">"skyblue"</span>, </span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.10</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggbxp2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggbxp2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-ggbxp2-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggbxp2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.45: Boxplot com jitter.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Continuando a alteração da aparência do boxplot, é posível modificar o seu formato para o formato clássico com “bigodes” terminando em “T” (Figura <a href="#fig-ggbxp3" class="quarto-xref">Figura&nbsp;<span>6.46</span></a>) e não um traço simples. Para isso, cria-se uma camada de barra de erro, usando a função <code>geom_errorbar()</code>, antes de <code>geom_boxblot()</code>. Assim, como o boxplot passa ser a camada mais superficial, ele impede que se visualize a barra de erro na caixa, desde que ele seja opaco (remover ou zerar o argumento <code>alpha</code>). A função <code>geom_errorbar()</code> normalmente é usada para barras de erro. No entanto, aqui ela está sendo utilizada com <code>stat = "boxplot"</code> <a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a>, o que significa que os cálculos de estatística do boxplot serão aplicados à barra de erro. O argumento <code>width = 0.1</code> ajusta a largura das barras de erro, tornando-as mais estreitas.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados, <span class="fu">aes</span>(<span class="at">x =</span> sexo, <span class="at">y =</span>  comp)) <span class="sc">+</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="at">stat =</span> <span class="st">"boxplot"</span>, <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">colour =</span> <span class="st">"black"</span>, </span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">"chartreuse"</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggbxp3" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggbxp3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-ggbxp3-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggbxp3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.46: Boxplot no ggplot2 com bigodes finalizando em T.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="gráfico-de-violino-violin-plot" class="level4" data-number="6.6.1.3">
<h4 data-number="6.6.1.3" class="anchored" data-anchor-id="gráfico-de-violino-violin-plot"><span class="header-section-number">6.6.1.3</span> Gráfico de Violino (Violin plot)</h4>
<p>Os gráficos de violino permitem visualizar a distribuição de uma variável numérica para um ou vários grupos. No <code>ggplot2</code>, são construidos com o <code>geom_violin()</code>e, com frequência, substituem os boxplots.</p>
<p>Cada “violino” representa uma variável de agrupamento. A forma representa a estimativa de densidade da variável: quanto mais pontos de dados em um intervalo específico, mais largo será o violino para esse intervalo. É muito parecido com um boxplot, mas permite uma compreensão mais profunda da distribuição.</p>
<p>O gráfico de violino é uma técnica poderosa de visualização de dados, pois permite comparar a classificação de vários grupos e sua distribuição. São particularmente adequados quando a quantidade de dados é grande e é impossível mostrar observações individuais. Para conjuntos de dados pequenos, um boxplot com jitter é provavelmente uma opção melhor, pois realmente mostra todas as informações.</p>
<p>Aqui, será usado o conjunto de dados <code>dadosFumo.xlsx</code> que mostra a distribuição dos pesos dos recém-nascidos a termo de acordo com o tabagismo materno (não fumante, fumante leve. fumante moderada, fumante pesada). Ele pode ser obtido <a href="https://https://github.com/petronioliveira/Arquivos/blob/main/dadosFumo3.xlsx">aqui</a>, para ser salvo em seu diretório de trabalho.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>dados_fumo <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"dados/dadosFumo3.xlsx"</span>)</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dados_fumo)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [310 × 3] (S3: tbl_df/tbl/data.frame)
 $ id       : num [1:310] 1 2 3 4 5 6 7 8 9 10 ...
 $ pesoRN   : num [1:310] 3055 3190 4350 2740 2270 ...
 $ quantFumo: chr [1:310] "fumante_leve" "fumante_leve" "fumante_leve" "fumante_leve" ...</code></pre>
</div>
</div>
<p>Para construir o gráfico de violino, serão usados os argumentos <code>trim = FALSE</code>, para não aparar caudas, e <code>draw_quantiles = c(0.25, 0.5, 0.75)</code>, para traçar os quartis (<a href="#fig-violino" class="quarto-xref">Figura&nbsp;<span>6.47</span></a>). No final, a função <code>theme()</code> será colocada para evitar que a legenda das categorias apareça, uma vez que ela é explicita no gráfico.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados_fumo, <span class="fu">aes</span>(<span class="at">x=</span>quantFumo, <span class="at">y=</span>pesoRN,         </span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill=</span>quantFumo)) <span class="sc">+</span> </span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">trim =</span> <span class="cn">FALSE</span>,</span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">draw_quantiles =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>)) <span class="sc">+</span></span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-violino" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-violino-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-violino-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-violino-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.47: Gráfico de violino com os quartis.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Uma alteração interessante que pode ser feita no gráfico de violino é colocar um boxplot (<a href="#fig-violino1" class="quarto-xref">Figura&nbsp;<span>6.48</span></a>), dentro do mesmo, faz o efeito do argumento <code>draw_quantiles</code>, usado na <a href="#fig-violino" class="quarto-xref">Figura&nbsp;<span>6.47</span></a>. Facilita a interpretação e, na opinião do autor, é mais elegante. O argumento <code>width = 0.5</code>, na função <code>geom_boxplot()</code>, estabelece a largura do boxplot.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados_fumo, <span class="fu">aes</span>(<span class="at">x=</span>quantFumo, <span class="at">y=</span>pesoRN, <span class="at">fill=</span>quantFumo)) <span class="sc">+</span> </span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">trim =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-violino1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-violino1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-violino1-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-violino1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.48: Gráfico de violino com boxplot.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Para obter uma versão horizontal da <a href="#fig-violino1" class="quarto-xref">Figura&nbsp;<span>6.48</span></a>, chama-se a função <code>coord_flip()</code> <a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a> que permite inverter os eixos <em>X</em> e <em>Y</em> e, assim, tornar a interpretação mais intuitiva, mais amigável (<a href="#fig-violino2" class="quarto-xref">Figura&nbsp;<span>6.49</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados_fumo, <span class="fu">aes</span>(<span class="at">x=</span>quantFumo, <span class="at">y=</span>pesoRN, <span class="at">fill=</span>quantFumo)) <span class="sc">+</span> </span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">trim =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-violino2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-violino2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-violino2-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-violino2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.49: Gráfico de violino horizontal.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Para interpretar um gráfico de violino, observar o seguinte:</p>
<ul>
<li>Forma do violino, observando a largura em diferentes pontos para entender onde os dados se concentram.</li>
<li>A linha mediana e a caixa do boxplot associado indicam a mediana e o intervalo interquartil, respectivamente.</li>
<li>Se o violino é simétrico em torno da mediana, a distribuição dos dados é aproximadamente simétrica.</li>
<li>Se a parte superior do violino é mais larga, os dados podem ser assimétricos, inclinados para valores maiores.</li>
<li>Em múltiplas categorias, pode-se comparar rapidamente as distribuições. Diferentes formas e larguras entre as categorias fornecem uma visão clara das variações entre elas.</li>
</ul>
</section>
<section id="histograma" class="level4" data-number="6.6.1.4">
<h4 data-number="6.6.1.4" class="anchored" data-anchor-id="histograma"><span class="header-section-number">6.6.1.4</span> Histograma</h4>
<p>Como visto na <a href="#sec-histograma" class="quarto-xref"><span>Seção 6.5.4</span></a>, o <em>histograma</em> é uma ferramenta gráfica que fornece informações sobre o formato da distribuição e da dispersão dos dados, permitindo verificar se existe ou não simetria. É usado para dados contínuos.</p>
<p>O <code>geom_histogram()</code> é a geometria para a construção de um histograma. Aqui, há necessidade apenas do eixo <em>x</em>, pois existe uma única variável. A execução do comando retorna a distribuição dessa variável.</p>
<p>Para construir um histograma, será usada a variável <code>pesoRN</code> do banco de dados usado nos gráficos de violino (<code>dadosFumo.xlsx</code>). O histograma (<a href="#fig-hist" class="quarto-xref">Figura&nbsp;<span>6.50</span></a>) pode ser obtido por qualquer um dos códigos abaixo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados_fumo) <span class="sc">+</span> </span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> pesoRN))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ou</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados_fumo, <span class="fu">aes</span>(<span class="at">x =</span> pesoRN)) <span class="sc">+</span> </span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-hist" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-hist-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.50: Histograma padrão.
</figcaption>
</figure>
</div>
</div>
</div>
<p>A aparência deste histograma não está boa. A sua mensagem depende dessa aparência. O histograma recebe uma variável numérica e a divide em vários “compartimentos”, os intervalos, representados pelas barras. A escolha do tamanho (amplitude) do intervalo é de extrema importância para a aparência do histograma.<br>
O <code>geom_histogram()</code> tem um argumento, denominado <code>binwidth</code> que permite alterar a amplitude do intervalo. O <code>binwidth</code> é um intervalo e sua unidade é igual a da variável que se está histogramando. No exemplo, foi usado o peso do recém-nascido (g). Se quisermos um intervalo de 100 em 100 gramas, o <code>binwidth = 100</code>. Uma outra maneira, é usar <code>bins</code> que agrupa em intervalos de mesmo tamanho. Se estabelecermos <code>bins = 15</code>, o <code>geom_histogram()</code> dividirá em 15 intervalos iguais.</p>
<p>Junto com a alteração dos intervalos, vamos modificar a cor de preenchimento (<code>fill</code>) e bordas (<code>colour</code>) das barras (<a href="#fig-hist2" class="quarto-xref">Figura&nbsp;<span>6.51</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados_fumo, <span class="fu">aes</span>(<span class="at">x =</span> pesoRN)) <span class="sc">+</span> </span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">100</span>,</span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">"chartreuse"</span>,</span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> <span class="st">"darkgreen"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-hist2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-hist2-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.51: Histograma modificado com o argumento binwidth = 100 e com preenchimento e bordas das barras customizadas.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Com frequência se observa um histograma com curva normal sobreposta (<a href="#fig-hist3" class="quarto-xref">Figura&nbsp;<span>6.52</span></a>) para facilitar a comparação dos dados com a distribuição normal. Isso pode ser conseguido com um código que usa função <code>stat_function()</code> para a construção da curva normal, baseada nos dados (média e desvio padrão da variável <code>pesoRN</code>) e a função <code>after_stat(density)</code>, colocada na estética do histograma no eixo <em>Y</em>, para substituir a frequência pela densidade de probabilidade. O restante do código somente estabelece que a linha da curva será tracejada (linetype = “dashed”), de cor vermelha (color = “red”) e com tamanho 1 (linewidth = 1).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dados_fumo) <span class="sc">+</span> </span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> pesoRN, </span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> <span class="fu">after_stat</span>(density)),</span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">binwidth =</span> <span class="dv">100</span>,</span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">"chartreuse"</span>,</span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> <span class="st">"darkgreen"</span>) <span class="sc">+</span></span>
<span id="cb150-7"><a href="#cb150-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_function</span>(<span class="at">fun =</span> dnorm, </span>
<span id="cb150-8"><a href="#cb150-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="fu">mean</span>(dados_fumo<span class="sc">$</span>pesoRN),</span>
<span id="cb150-9"><a href="#cb150-9" aria-hidden="true" tabindex="-1"></a>                            <span class="at">sd =</span> <span class="fu">sd</span>(dados_fumo<span class="sc">$</span>pesoRN)),</span>
<span id="cb150-10"><a href="#cb150-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">linetype =</span> <span class="st">"dashed"</span>,</span>
<span id="cb150-11"><a href="#cb150-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">linewidth =</span> <span class="dv">1</span>,</span>
<span id="cb150-12"><a href="#cb150-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-hist3" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-hist3-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.52: Histograma com curva normal sobreposta.
</figcaption>
</figure>
</div>
</div>
</div>
<p>O gráfico da <a href="#fig-hist3" class="quarto-xref">Figura&nbsp;<span>6.52</span></a>, mostra que os pesos dos recém-nascidos se ajustam bem à curva normal.</p>
</section>
<section id="gráfico-de-barras-1" class="level4" data-number="6.6.1.5">
<h4 data-number="6.6.1.5" class="anchored" data-anchor-id="gráfico-de-barras-1"><span class="header-section-number">6.6.1.5</span> Gráfico de barras</h4>
<p>O gráfico de barras é uma análogo do histograma, onde as barras , ao contrário deste, são separadas. Os gráficos de barra exibem a distribuição (frequências) de uma variável categórica através de barras verticais ou horizontais, ou sobrepostas.<br>
A função <code>geom_bar()</code> permite delinear um gráfico de barras (<a href="#fig-bar" class="quarto-xref">Figura&nbsp;<span>6.53</span></a>). O exemplo será construído com a variável <code>quantFumo</code> do arquivo <code>dadosFumo.xlsx</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_fumo) <span class="sc">+</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count))))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bar-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.53: Gráfico de barras padrão do ggplot2.
</figcaption>
</figure>
</div>
</div>
</div>
<p>As cores de preenchimento das barras podem ser alteradas, de acordo com a variável categórica (<a href="#fig-bar1" class="quarto-xref">Figura&nbsp;<span>6.54</span></a>). As cores serão estabelecidas de acordo com o padrão do <code>ggplot2</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_fumo) <span class="sc">+</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)),</span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> quantFumo))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bar1-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.54: Gráfico de barras com as cores das barras estabelecidas pelo ggplot2.
</figcaption>
</figure>
</div>
</div>
</div>
<p>O gráfico retorna uma legenda, mostrando o que representa cada cor. Ela é desnecessária porque já está explicito, no eixo <em>X</em>, o que cada barra representa. Portanto, vamos remover a legenda (<a href="#fig-bar2" class="quarto-xref">Figura&nbsp;<span>6.55</span></a>)com a função <code>theme(legend.position = "none")</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_fumo) <span class="sc">+</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)),</span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> quantFumo)) <span class="sc">+</span></span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bar2-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.55: Gráfico de barras anterior sem legenda.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Essas cores do padrão do <code>ggplot2</code> podem ser modificadas com a função <code>scale_fill_manual()</code>que permite a customização das cores (<a href="#fig-bar3" class="quarto-xref">Figura&nbsp;<span>6.56</span></a>):</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_fumo) <span class="sc">+</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)),</span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> quantFumo)) <span class="sc">+</span> </span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"lightsalmon1"</span>, <span class="st">"lightsalmon3"</span>,  </span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"lightsalmon4"</span>, <span class="st">"lightblue"</span>)) <span class="sc">+</span></span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar3" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bar3-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.56: Gráfico de barras com cores customizadas.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="modificação-dos-eixos-do-gráfico" class="level3" data-number="6.6.2">
<h3 data-number="6.6.2" class="anchored" data-anchor-id="modificação-dos-eixos-do-gráfico"><span class="header-section-number">6.6.2</span> Modificação dos eixos do gráfico</h3>
<section id="rótulos-nos-eixos" class="level4" data-number="6.6.2.1">
<h4 data-number="6.6.2.1" class="anchored" data-anchor-id="rótulos-nos-eixos"><span class="header-section-number">6.6.2.1</span> Rótulos nos eixos</h4>
<p>Observe que no gráfico da <a href="#fig-bar3" class="quarto-xref">Figura&nbsp;<span>6.56</span></a>, o eixo <em>y</em> contém um rótulo que é a fórmula para o cálculo da proporção e o eixo <em>x</em>, o nome da variável <code>quantFumo</code> que também é pouco esclarecedor. Os rótulos dos eixos são muito importantes em um gráfico, pois a sua leitura deve explicar o que o gráfico está apresentando. Nessa figura, o gráfico está mostrando a proporção da intensidade de tabagismo em um grupo de gestantes. Isto deve estar claro no gráfico. Para modificar o rótulo dos eixos, utiliza-se, com frequência, as funções <code>xlab()</code> e <code>ylab()</code> (<a href="#fig-bar4" class="quarto-xref">Figura&nbsp;<span>6.57</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_fumo) <span class="sc">+</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)),</span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> quantFumo)) <span class="sc">+</span> </span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"lightsalmon1"</span>, <span class="st">"lightsalmon3"</span>,  </span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"lightsalmon4"</span>, <span class="st">"lightblue"</span>)) <span class="sc">+</span></span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Proporção por categoria"</span>) <span class="sc">+</span></span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Tabagismo Materno"</span>) <span class="sc">+</span></span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar4" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bar4-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.57: Gráfico de barras com os rótulos dos eixos alterados.
</figcaption>
</figure>
</div>
</div>
</div>
<p>O mesmo trabalho de alteração dos rótulos pode ser feito com a função <code>labs()</code> que faz , retornando um gráfico igual ao da <a href="#fig-bar4" class="quarto-xref">Figura&nbsp;<span>6.57</span></a>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_fumo) <span class="sc">+</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)),</span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> quantFumo)) <span class="sc">+</span> </span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"lightsalmon1"</span>, <span class="st">"lightsalmon3"</span>,  </span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"lightsalmon4"</span>, <span class="st">"lightblue"</span>)) <span class="sc">+</span></span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">y =</span> <span class="st">"Proporção por categoria"</span>,</span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Tabagismo Materno"</span>) <span class="sc">+</span></span>
<span id="cb156-9"><a href="#cb156-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mudando-o-nome-e-a-ordem-dos-rótulos-no-eixo-x" class="level4" data-number="6.6.2.2">
<h4 data-number="6.6.2.2" class="anchored" data-anchor-id="mudando-o-nome-e-a-ordem-dos-rótulos-no-eixo-x"><span class="header-section-number">6.6.2.2</span> Mudando o nome e a ordem dos rótulos no eixo x</h4>
<p>A <a href="#fig-bar4" class="quarto-xref">Figura&nbsp;<span>6.57</span></a> ficou melhor, mas ainda tem problemas. O rótulo de cada barra está como cada nível está escrito no banco de dados, por exemplo, a palavra <code>não</code> está sem acentuação. Isto pode ser corrigido, usando a função <code>scale_x_discrete()</code> com os argumentos <code>limits =</code> (coloca os níveis na ordem desejada) e <code>labels =</code> (coloca os novos nomes<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a> na ordem estabelecida pelo argumento <code>limits =</code>):</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_fumo) <span class="sc">+</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)),</span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> quantFumo)) <span class="sc">+</span> </span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"lightsalmon1"</span>, <span class="st">"lightsalmon3"</span>,  </span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"lightsalmon4"</span>, <span class="st">"lightblue"</span>)) <span class="sc">+</span></span>
<span id="cb157-7"><a href="#cb157-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Proporção por categoria"</span>) <span class="sc">+</span></span>
<span id="cb157-8"><a href="#cb157-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Tabagismo Materno"</span>) <span class="sc">+</span></span>
<span id="cb157-9"><a href="#cb157-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"nao_fumante"</span>, </span>
<span id="cb157-10"><a href="#cb157-10" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_leve"</span>, </span>
<span id="cb157-11"><a href="#cb157-11" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_moderada"</span>, </span>
<span id="cb157-12"><a href="#cb157-12" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_pesada"</span>),</span>
<span id="cb157-13"><a href="#cb157-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Não fumante"</span>, <span class="st">"Leve"</span>, </span>
<span id="cb157-14"><a href="#cb157-14" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Moderado"</span>, <span class="st">"Pesado"</span>)) <span class="sc">+</span></span>
<span id="cb157-15"><a href="#cb157-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar6" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bar6-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.58: Gráfico de barras com nome e ordem dos rótulos alterados.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Observe que a barra azul das não fumantes foi trocada de posição, passando a ser a primeira, para colocar a intensidade do tabagismo em ordem crescente (<a href="#fig-bar6" class="quarto-xref">Figura&nbsp;<span>6.58</span></a>).</p>
</section>
<section id="título-e-subtítulo-do-gráfico" class="level4" data-number="6.6.2.3">
<h4 data-number="6.6.2.3" class="anchored" data-anchor-id="título-e-subtítulo-do-gráfico"><span class="header-section-number">6.6.2.3</span> Título e subtítulo do gráfico</h4>
<p>Nem sempre necessários, o título, o subtítulo ou uma nota de rodapé podem ser adicionados ao gráfico através da função <code>labs()</code>, usada anteriormente para colocar rótulos nos eixos <em>X</em> e <em>Y</em>, mas que também tem argumentos para colocar título, subtítulo e nota de rodapé (<code>caption</code>).</p>
<p>Agora, será desenhado um gráfico com boxplots que ilustrem a influência do tabagismo materno sobre o peso do recém-nascido. Será usado o mesmo banco de dados <code>dadosFumo.xlsx</code>. Além de usar todos os argumento da função <code>labs()</code>, se repetirá o que foi feito na construção do gráfico da <a href="#fig-bar6" class="quarto-xref">Figura&nbsp;<span>6.58</span></a>, alterando os nomes e a posição das não fumantes. O gráfico (<a href="#fig-ggbxp4" class="quarto-xref">Figura&nbsp;<span>6.59</span></a>) vai ser atribuído a um objeto denominado <code>bxp</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>bxp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dados_fumo, <span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">y =</span> pesoRN,</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> quantFumo)) <span class="sc">+</span></span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_boxplot</span>(<span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"lightsalmon1"</span>, <span class="st">"lightsalmon3"</span>,  </span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"lightsalmon4"</span>, <span class="st">"lightblue"</span>)) <span class="sc">+</span></span>
<span id="cb158-8"><a href="#cb158-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, </span>
<span id="cb158-9"><a href="#cb158-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span> <span class="st">"red"</span>, </span>
<span id="cb158-10"><a href="#cb158-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb158-11"><a href="#cb158-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">geom =</span> <span class="st">"point"</span>) <span class="sc">+</span></span>
<span id="cb158-12"><a href="#cb158-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Tabagismo Materno e Peso do Recém Nascido"</span>, </span>
<span id="cb158-13"><a href="#cb158-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Maternidade do Hospital Geral de Caxias do Sul, 2010"</span>,</span>
<span id="cb158-14"><a href="#cb158-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Tabagismo Materno"</span>,</span>
<span id="cb158-15"><a href="#cb158-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Peso dos Recém-Nascidos (g)"</span>,</span>
<span id="cb158-16"><a href="#cb158-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"O ponto vermelho é a média de cada grupo"</span>) <span class="sc">+</span></span>
<span id="cb158-17"><a href="#cb158-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"nao_fumante"</span>, </span>
<span id="cb158-18"><a href="#cb158-18" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_leve"</span>, </span>
<span id="cb158-19"><a href="#cb158-19" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_moderada"</span>, </span>
<span id="cb158-20"><a href="#cb158-20" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_pesada"</span>),</span>
<span id="cb158-21"><a href="#cb158-21" aria-hidden="true" tabindex="-1"></a>                    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Não fumante"</span>, <span class="st">"Leve"</span>, </span>
<span id="cb158-22"><a href="#cb158-22" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Moderado"</span>, <span class="st">"Pesado"</span>)) <span class="sc">+</span></span>
<span id="cb158-23"><a href="#cb158-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb158-24"><a href="#cb158-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-25"><a href="#cb158-25" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(bxp)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggbxp4" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggbxp4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-ggbxp4-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggbxp4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.59: Boxplots mostrando o impacto do tabagismo materno no peso do recém-nascido
</figcaption>
</figure>
</div>
</div>
</div>
<p>O gráfico da <a href="#fig-ggbxp4" class="quarto-xref">Figura&nbsp;<span>6.59</span></a> está com bom aspecto, mas alguém poderia dizer que gostaria de alterar o tamanho da fonte do título e do subtítulo, mudando inclusive a cor. É exagero? Poder ser, mas é possível! Para isso, existe, no <code>ggplot2</code>, uma função denominada <code>theme()</code> com múltiplos argumentos que exercem uma grande quantidade ações. Sugere-se consultar a ajuda (<code>?theme()</code>)para maiores informações. Para realizar essas alterações, vamos começar com o objeto <code>bxp</code> <a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a> e adicionar os códigos com a função <code>theme()</code> para alterar a cor do título e subtítulo (<a href="#fig-ggbxp5" class="quarto-xref">Figura&nbsp;<span>6.60</span></a>):</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>bxp <span class="sc">+</span></span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>,</span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb159-6"><a href="#cb159-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">color =</span> <span class="st">"darkgreen"</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggbxp5" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggbxp5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-ggbxp5-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggbxp5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.60: Gráfico anterior com pequenas alterações na fonte e cores do título e subtítulo
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="modificação-dos-limites-dos-eixos" class="level4" data-number="6.6.2.4">
<h4 data-number="6.6.2.4" class="anchored" data-anchor-id="modificação-dos-limites-dos-eixos"><span class="header-section-number">6.6.2.4</span> Modificação dos limites dos eixos</h4>
<p>O pacote <code>ggplot2</code> possui uma família de funções <code>scale_</code> para modificar as propriedades referentes às escalas do gráfico. Como é possível ter escalas de números, categorias, cores, datas, entre outras, é disponibilizada uma função específica para cada tipo de escala. Cada tipo fundamental é manipulado por uma das três funções construtoras de escala: <code>continuous_scale()</code>, <code>discrete_scale()</code> e <code>binned_scale()</code>.</p>
<p>No gráfico da <a href="#fig-ggbxp5" class="quarto-xref">Figura&nbsp;<span>6.60</span></a>, os pesos dos RNs estão dispostos em uma escala que varia a cada 1000 g. Para modificar esses limites, pode-se usar a função <code>scale_y_continuous()</code> para ter intervalos de 500 g:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>bxp <span class="sc">+</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>,</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">color =</span> <span class="st">"darkgreen"</span>)) <span class="sc">+</span></span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1500</span>, <span class="dv">5000</span>, <span class="dv">500</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggbxp6" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggbxp6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-ggbxp6-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggbxp6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.61: Gráfico anterior com modificação da escala do eixo Y
</figcaption>
</figure>
</div>
</div>
</div>
<p>Agora, na <a href="#fig-ggbxp6" class="quarto-xref">Figura&nbsp;<span>6.61</span></a>, o eixo <em>Y</em> contém intervalos de 500 g. Este mesmo grafico já é um exemplo de modificação do eixo <em>X</em> com a função <code>scale_x_discrete()</code> para mudar a ordem dos níveis originais, realizado na construção do gráfico da <a href="#fig-ggbxp4" class="quarto-xref">Figura&nbsp;<span>6.59</span></a>.</p>
</section>
<section id="modificação-da-expansão" class="level4" data-number="6.6.2.5">
<h4 data-number="6.6.2.5" class="anchored" data-anchor-id="modificação-da-expansão"><span class="header-section-number">6.6.2.5</span> Modificação da expansão</h4>
<p>Voltando ao gráfico da <a href="#fig-bar6" class="quarto-xref">Figura&nbsp;<span>6.58</span></a>, observe que abaixo do valor 0 (zero) existe uma expansão. Isto, visualmente, é desagradável (pelo menos para o autor). Para que as barras tenham início exatamente no 0 (zero), pode-se empregar a função <code>scale_y_continuous()</code> com o argumento <code>expand = expansion (add = c(0,50))</code>, significando que não se expande nada abaixo do 0 e se adiciona 50 unidades para cima, criando uma margem superior (<a href="#fig-bar7" class="quarto-xref">Figura&nbsp;<span>6.62</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_fumo) <span class="sc">+</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)),</span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> quantFumo)) <span class="sc">+</span> </span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"lightsalmon1"</span>, <span class="st">"lightsalmon3"</span>,  </span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"lightsalmon4"</span>, <span class="st">"lightblue"</span>)) <span class="sc">+</span></span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Proporção por categoria"</span>) <span class="sc">+</span></span>
<span id="cb161-8"><a href="#cb161-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Tabagismo Materno"</span>) <span class="sc">+</span></span>
<span id="cb161-9"><a href="#cb161-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"nao_fumante"</span>, </span>
<span id="cb161-10"><a href="#cb161-10" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_leve"</span>, </span>
<span id="cb161-11"><a href="#cb161-11" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_moderada"</span>, </span>
<span id="cb161-12"><a href="#cb161-12" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_pesada"</span>),</span>
<span id="cb161-13"><a href="#cb161-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Não fumante"</span>, <span class="st">"Leve"</span>, </span>
<span id="cb161-14"><a href="#cb161-14" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Moderado"</span>, <span class="st">"Pesado"</span>)) <span class="sc">+</span></span>
<span id="cb161-15"><a href="#cb161-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">add =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>))) <span class="sc">+</span></span>
<span id="cb161-16"><a href="#cb161-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar7" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar7-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bar7-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar7-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.62: Gráfico de barra sem a expansão abaixo de 0 (zero)
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="proporção-ou-percentagem-nos-eixos" class="level4" data-number="6.6.2.6">
<h4 data-number="6.6.2.6" class="anchored" data-anchor-id="proporção-ou-percentagem-nos-eixos"><span class="header-section-number">6.6.2.6</span> Proporção ou percentagem nos eixos</h4>
<p>Na <a href="#fig-bar7" class="quarto-xref">Figura&nbsp;<span>6.62</span></a>, a unidade do eixo <em>Y</em> encontra-se como um proporção <code>y = after_stat(count/sum(count)</code>. É possível modificar para porcentagem (<a href="#fig-bar8" class="quarto-xref">Figura&nbsp;<span>6.63</span></a>), empregando a função <code>percent_format()</code> do pacote <code>scales</code>. O código é praticamente igual, apenas acrescentar o argumento <code>labels = percent_format(accuracy = 0.1, decimal.mark = “,”)</code> dentro da função <code>scale_y_continuous()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_fumo) <span class="sc">+</span></span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)),</span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> quantFumo)) <span class="sc">+</span> </span>
<span id="cb162-7"><a href="#cb162-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"lightsalmon1"</span>, <span class="st">"lightsalmon3"</span>,  </span>
<span id="cb162-8"><a href="#cb162-8" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"lightsalmon4"</span>, <span class="st">"lightblue"</span>)) <span class="sc">+</span></span>
<span id="cb162-9"><a href="#cb162-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">add =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>)),</span>
<span id="cb162-10"><a href="#cb162-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">percent_format</span> (<span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb162-11"><a href="#cb162-11" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">decimal.mark =</span> <span class="st">","</span>)) <span class="sc">+</span></span>
<span id="cb162-12"><a href="#cb162-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"fumante_leve"</span>, <span class="st">"fumante_moderada"</span>, </span>
<span id="cb162-13"><a href="#cb162-13" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_pesada"</span>, <span class="st">"nao_fumante"</span>),</span>
<span id="cb162-14"><a href="#cb162-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Leve"</span>, <span class="st">"Moderado"</span>,</span>
<span id="cb162-15"><a href="#cb162-15" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Pesado"</span>, <span class="st">"Não fumante"</span>)) <span class="sc">+</span></span>
<span id="cb162-16"><a href="#cb162-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Tabagismo Materno na Gestação"</span>,</span>
<span id="cb162-17"><a href="#cb162-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Proporção em cada categoria"</span>) <span class="sc">+</span></span>
<span id="cb162-18"><a href="#cb162-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar8" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar8-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bar8-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar8-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.63: Gráfico de barra com eixo Y em porcentagem
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="sec-cores" class="level3" data-number="6.6.3">
<h3 data-number="6.6.3" class="anchored" data-anchor-id="sec-cores"><span class="header-section-number">6.6.3</span> Modificação das cores</h3>
<p>Na <a href="#sec-geom_boxplot" class="quarto-xref"><span>Seção 6.6.1.2</span></a>, foi introduzido o uso de cores no R. Agora, apesar deste tema praticamente não ter limites, serão mostrados alguns princípios do manuseio das cores no <code>ggplot2</code>.</p>
<p>No gráfico de barras da <a href="#fig-bar8" class="quarto-xref">Figura&nbsp;<span>6.63</span></a>, as cores foram selecionadas com a função <code>scale_fill_manual()</code>. A escolha das cores pode ser feita especificando o seu nome em inglês. Essa escolha é pessoal. O <em>R</em> possui 657 cores integradas que permitem uma gama ampla de opções. Uma outra maneira de especificar as cores, é usar o sistema RGB ou hexadecimal. O código hexadecimal da cor branca é #FFFFFFF, da “gray58” é #949494, da “yellow4” é #999900, etc. Opcionalmente, a cor pode ser transparente, usando o formato “#RRGGBBAA”. <code>Alpha</code> refere-se à transparência de um <code>geom</code>. Os valores de <code>alpha</code> variam de 0 a 1, com valores mais baixos correspondendo a cores mais transparentes. <code>Alpha</code> também pode ser modificada por meio da estética de <code>colour</code> ou <code>fill</code> se qualquer uma das estéticas fornecer valores de cor usando uma especificação RGB.</p>
<p>Usando este mesmo gráfico, iremos mudar a cor, usando a cor cinza-claro para o preenchimento das barras (<code>fill = “gray70”</code>) e vermelho-escuro para bordas das barras (<code>color = “darkred”</code>), colocados fora da <code>aes()</code>, pois se forem colocadas dentro, as cores ficarão diferentes dentro do padrão do <code>ggplot2</code> (<a href="#fig-bar9" class="quarto-xref">Figura&nbsp;<span>6.64</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_fumo) <span class="sc">+</span></span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantFumo, </span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count))),</span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">"gray70"</span>,</span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">"darkred"</span>) <span class="sc">+</span> </span>
<span id="cb163-8"><a href="#cb163-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Tabagismo Materno na Gestação"</span>,</span>
<span id="cb163-9"><a href="#cb163-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentagem em cada categoria"</span>) <span class="sc">+</span></span>
<span id="cb163-10"><a href="#cb163-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"nao_fumante"</span>, </span>
<span id="cb163-11"><a href="#cb163-11" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_leve"</span>, </span>
<span id="cb163-12"><a href="#cb163-12" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_moderada"</span>, </span>
<span id="cb163-13"><a href="#cb163-13" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_pesada"</span>),</span>
<span id="cb163-14"><a href="#cb163-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Não fumante"</span>, <span class="st">"Leve"</span>, </span>
<span id="cb163-15"><a href="#cb163-15" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Moderado"</span>, <span class="st">"Pesado"</span>)) <span class="sc">+</span></span>
<span id="cb163-16"><a href="#cb163-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">add =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>)),</span>
<span id="cb163-17"><a href="#cb163-17" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="fl">0.1</span>,  </span>
<span id="cb163-18"><a href="#cb163-18" aria-hidden="true" tabindex="-1"></a>                                              <span class="at">decimal.mark =</span> <span class="st">","</span>)) <span class="sc">+</span></span>
<span id="cb163-19"><a href="#cb163-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar9" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bar9-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.64: Gráfico de barras com cores modificadas fora da estética do geom.
</figcaption>
</figure>
</div>
</div>
</div>
<section id="cores-de-acordo-com-uma-determinada-paleta" class="level4" data-number="6.6.3.1">
<h4 data-number="6.6.3.1" class="anchored" data-anchor-id="cores-de-acordo-com-uma-determinada-paleta"><span class="header-section-number">6.6.3.1</span> Cores de acordo com uma determinada paleta</h4>
<p>O <code>ggsci</code> é um pacote que oferece uma coleção de paletas de alta qualidade inspiradas em cores usadas em revistas científicas, bibliotecas de visualização de dados, filmes de ficção científica e programas de TV. As paletas de cores no <code>ggsci</code> estão disponíveis como escalas <code>ggplot2</code>. Para todas usa-se as seguintes funções: <code>scale_color_palname()</code> e <code>scale_fill_palname()</code>. Por exemplo, para a paleta do <em>Lancet</em>, usa-se para o preenchimento: <code>scale_fill_lancet()</code> . O pacote <code>ggsci</code> deve ser instalado e carregado para usar estas paletas.</p>
<p>Como base, será usado o código que gerou o gráfico da <a href="#fig-ggbxp6" class="quarto-xref">Figura&nbsp;<span>6.61</span></a> com alterações, usando a paleta do periódico <em>Lancet</em> (<a href="#fig-ggbxp7" class="quarto-xref">Figura&nbsp;<span>6.65</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggsci)</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>bxp1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dados_fumo, </span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a>               <span class="fu">aes</span>(<span class="at">x =</span> quantFumo, <span class="at">y =</span> pesoRN, <span class="at">fill =</span> quantFumo)) <span class="sc">+</span></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_boxplot</span>(<span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_lancet</span>() <span class="sc">+</span></span>
<span id="cb164-8"><a href="#cb164-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">colour =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">geom =</span> <span class="st">"point"</span>) <span class="sc">+</span></span>
<span id="cb164-9"><a href="#cb164-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Tabagismo Materno e Peso do Recém Nascido"</span>, </span>
<span id="cb164-10"><a href="#cb164-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Maternidade do Hospital Geral de Caxias do Sul, 2010"</span>,</span>
<span id="cb164-11"><a href="#cb164-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Tabagismo Materno"</span>,</span>
<span id="cb164-12"><a href="#cb164-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Peso dos Recém-Nascidos (g)"</span>,</span>
<span id="cb164-13"><a href="#cb164-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"O ponto branco é a média de cada grupo"</span>) <span class="sc">+</span></span>
<span id="cb164-14"><a href="#cb164-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>,</span>
<span id="cb164-15"><a href="#cb164-15" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb164-16"><a href="#cb164-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb164-17"><a href="#cb164-17" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb164-18"><a href="#cb164-18" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">color =</span> <span class="st">"darkgreen"</span>)) <span class="sc">+</span></span>
<span id="cb164-19"><a href="#cb164-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"nao_fumante"</span>, <span class="st">"fumante_leve"</span>, </span>
<span id="cb164-20"><a href="#cb164-20" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"fumante_moderada"</span>, <span class="st">"fumante_pesada"</span>),</span>
<span id="cb164-21"><a href="#cb164-21" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Não fumante"</span>, <span class="st">"Leve"</span>, </span>
<span id="cb164-22"><a href="#cb164-22" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Moderado"</span>, <span class="st">"Pesado"</span>)) <span class="sc">+</span></span>
<span id="cb164-23"><a href="#cb164-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1500</span>, <span class="dv">5000</span>, <span class="dv">500</span>)) <span class="sc">+</span></span>
<span id="cb164-24"><a href="#cb164-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb164-25"><a href="#cb164-25" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(bxp1)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggbxp7" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggbxp7-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-ggbxp7-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggbxp7-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.65: Gráfico com paleta de cores do Lancet.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="mudança-dos-temas" class="level3" data-number="6.6.4">
<h3 data-number="6.6.4" class="anchored" data-anchor-id="mudança-dos-temas"><span class="header-section-number">6.6.4</span> Mudança dos temas</h3>
<p>O tema padrão do <code>ggplot2</code> tem uma aparência acinzentada que pode ser modificada pela definição de outro tema integrado, como o <code>theme_bw()</code>, que é uma variação de <code>theme_grey()</code>, que usa um fundo branco e linhas finas de grade cinza . Outro tema interessante é o <code>theme_classic()</code> que é um tema de aparência clássica, com linhas dos eixos <em>X</em> e <em>Y</em> e sem linhas de grade . Para ver outras possibilidades acesse <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">Completes themes - <code>ggplt2</code></a>.</p>
<p>Será repetido o boxplot da <a href="#fig-ggbxp7" class="quarto-xref">Figura&nbsp;<span>6.65</span></a>, adicionando o <code>theme_bw()</code> (<a href="#fig-ggbxp8" class="quarto-xref">Figura&nbsp;<span>6.66</span></a>) e, após, o <code>theme_classic()</code>(<a href="#fig-ggbxp9" class="quarto-xref">Figura&nbsp;<span>6.67</span></a>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>bxp1 <span class="sc">+</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggbxp8" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggbxp8-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-ggbxp8-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggbxp8-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.66: Gráfico da Figura 36 com o theme_bw().
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>bxp1 <span class="sc">+</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggbxp9" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggbxp9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-ggbxp9-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggbxp9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.67: Gráfico da Figura 36 com o theme_classic().
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="estudo-de-caso-gráfico-de-barra-de-erro" class="level3" data-number="6.6.5">
<h3 data-number="6.6.5" class="anchored" data-anchor-id="estudo-de-caso-gráfico-de-barra-de-erro"><span class="header-section-number">6.6.5</span> Estudo de caso: Gráfico de barra de erro</h3>
<p>Um gráfico de barra de erro (<a href="#fig-bar10" class="quarto-xref">Figura&nbsp;<span>6.68</span></a>) é uma ferramenta visual que mostra a variabilidade de dados em um ponto específico (veja também <a href="#sec-errorbar" class="quarto-xref"><span>Seção 6.5.3</span></a>). Ele consiste em pontos ou barras que representam as médias (ou outras estatísticas) de um conjunto de dados, com linhas verticais (ou horizontais) que indicam o intervalo de confiança, o desvio padrão ou o erro padrão da média. Essas linhas verticais são conhecidas como “barras de erro”. Usado para comparar as médias de diferentes grupos, mostrando a variabilidade dentro de cada grupo. É visto com frequência em pesquisas científicas e publicações para apresentar os resultados experimentais com suas respectivas variabilidades.</p>
<section id="caso" class="level4" data-number="6.6.5.1">
<h4 data-number="6.6.5.1" class="anchored" data-anchor-id="caso"><span class="header-section-number">6.6.5.1</span> Caso</h4>
<p>Para visualizar a influência do sexo e do tabagismo materno no peso do recém-nascido, será usado um gráfico de barras de erro, onde a representação das colunas (barras) e as barras de erro com intervalo de confiança de 95%, calculado usando média ± margem de erro, onde a margem de erro = 1.96 × erro padrão.</p>
</section>
<section id="dados" class="level4" data-number="6.6.5.2">
<h4 data-number="6.6.5.2" class="anchored" data-anchor-id="dados"><span class="header-section-number">6.6.5.2</span> Dados</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12</span>)</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"dados/dadosMater.xlsx"</span>) <span class="sc">%&gt;%</span>   <span class="fu">filter</span>(ig <span class="sc">&gt;</span> <span class="dv">37</span> <span class="sc">&amp;</span> ig <span class="sc">&lt;=</span> <span class="dv">42</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, fumo, sexo, pesoRN) <span class="sc">%&gt;%</span> </span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">100</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><u>Exploração e transformação dos dados</u></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>dados<span class="sc">$</span>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span>(dados<span class="sc">$</span>sexo, </span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Masculino"</span>, <span class="st">"Feminino"</span>))</span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a>dados<span class="sc">$</span>fumo <span class="ot">&lt;-</span> <span class="fu">factor</span>(dados<span class="sc">$</span>fumo,</span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"fumante"</span>, <span class="st">"nao_fumante"</span>))</span>
<span id="cb168-8"><a href="#cb168-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-9"><a href="#cb168-9" aria-hidden="true" tabindex="-1"></a>resumo <span class="ot">&lt;-</span> dados <span class="sc">%&gt;%</span> </span>
<span id="cb168-10"><a href="#cb168-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sexo, fumo) <span class="sc">%&gt;%</span> </span>
<span id="cb168-11"><a href="#cb168-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb168-12"><a href="#cb168-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">media =</span> <span class="fu">mean</span>(pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb168-13"><a href="#cb168-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">dp =</span> <span class="fu">sd</span>(pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb168-14"><a href="#cb168-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">me =</span> <span class="fl">1.96</span> <span class="sc">*</span> dp<span class="sc">/</span><span class="fu">sqrt</span>(n),</span>
<span id="cb168-15"><a href="#cb168-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb168-16"><a href="#cb168-16" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(resumo)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 6
  sexo      fumo            n media    dp    me
  &lt;fct&gt;     &lt;fct&gt;       &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Masculino fumante        11 3258.  544.  322.
2 Masculino nao_fumante    47 3217.  409.  117.
3 Feminino  fumante         6 2920   384.  307.
4 Feminino  nao_fumante    36 3200.  413.  135.</code></pre>
</div>
</div>
</section>
<section id="gráfico-de-barra-de-erro" class="level4" data-number="6.6.5.3">
<h4 data-number="6.6.5.3" class="anchored" data-anchor-id="gráfico-de-barra-de-erro"><span class="header-section-number">6.6.5.3</span> Gráfico de barra de erro</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(resumo, </span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span>sexo, <span class="at">y=</span>media, <span class="at">fill=</span>fumo)) <span class="sc">+</span> </span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>, <span class="at">color=</span><span class="st">"black"</span>, </span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="fl">0.9</span>)) <span class="sc">+</span></span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position=</span><span class="fu">position_dodge</span>(<span class="fl">0.9</span>)) <span class="sc">+</span></span>
<span id="cb170-6"><a href="#cb170-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>media, <span class="at">ymax=</span>media<span class="sc">+</span>me), <span class="at">width=</span><span class="fl">0.2</span>,</span>
<span id="cb170-7"><a href="#cb170-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">position=</span><span class="fu">position_dodge</span>(.<span class="dv">9</span>)) <span class="sc">+</span></span>
<span id="cb170-8"><a href="#cb170-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Sexo"</span>, </span>
<span id="cb170-9"><a href="#cb170-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Peso do Neonato(g)"</span>,</span>
<span id="cb170-10"><a href="#cb170-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Tabagismo"</span>) <span class="sc">+</span></span>
<span id="cb170-11"><a href="#cb170-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">3600</span>),</span>
<span id="cb170-12"><a href="#cb170-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">expand =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb170-13"><a href="#cb170-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"nao_fumante"</span> <span class="ot">=</span> <span class="st">"darkslategray1"</span>, </span>
<span id="cb170-14"><a href="#cb170-14" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"fumante"</span> <span class="ot">=</span> <span class="st">"gray80"</span>),</span>
<span id="cb170-15"><a href="#cb170-15" aria-hidden="true" tabindex="-1"></a>                    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"nao_fumante"</span> <span class="ot">=</span> <span class="st">"Não fumante"</span>, </span>
<span id="cb170-16"><a href="#cb170-16" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"fumante"</span> <span class="ot">=</span> <span class="st">"Fumante"</span>)) <span class="sc">+</span></span>
<span id="cb170-17"><a href="#cb170-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">add =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>))) <span class="sc">+</span></span>
<span id="cb170-18"><a href="#cb170-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="06-descrevendoDados_files/figure-html/fig-bar10-1.png" class="quarto-figure quarto-figure-center figure-img" style="width:60.0%;height:60.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.68: Gráfico de barra de erro.
</figcaption>
</figure>
</div>
</div>
</div>


<div id="refs" class="references csl-bib-body" role="list" style="display: none">
<div id="ref-field2012df" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Field A, Miles J, Field Z. Everithing you ever wanted to know about statistics (well, sort of). Em: Discovering statistics using R. Sage Publications, Ltd; 2012. p. 38. </div>
</div>
<div id="ref-bowers2008scratch" class="csl-entry" role="listitem">
<div class="csl-left-margin">2. </div><div class="csl-right-inline">Bowers D. First things first-the nature of data. Em: Medical Statistics from Scratch. Second Edition. John Wiley; Sons; 2008. p. 3–13. </div>
</div>
<div id="ref-arango2009tab" class="csl-entry" role="listitem">
<div class="csl-left-margin">3. </div><div class="csl-right-inline">Arango HG. Organização dos dados em tabelas. Em: Bioestatística: teórica e computacional. 3ª edição. Guanabara Koogan; 2009. p. 32–57. </div>
</div>
<div id="ref-oliveira2022tab" class="csl-entry" role="listitem">
<div class="csl-left-margin">4. </div><div class="csl-right-inline">Oliveira Filho PF de. Tabelas. Em: Epidemiologia e Bioestatística-Fundamentos para a Leitura Crítica. 2ª edição. Editora Rubio; 2022. p. 9–12. </div>
</div>
<div id="ref-xie2018knitr" class="csl-entry" role="listitem">
<div class="csl-left-margin">5. </div><div class="csl-right-inline">Xie Y. knitr: a comprehensive tool for reproducible research in R. Em: Implementing reproducible research. Chapman; Hall/CRC; 2018. p. 3–31. </div>
</div>
<div id="ref-zhu2021construct" class="csl-entry" role="listitem">
<div class="csl-left-margin">6. </div><div class="csl-right-inline">Zhu H et al. Construct complex table with <span>«kable»</span> and Pipe syntax [Internet]. 2021. Disponível em: <a href="https://CRAN.R-project.org/package=kableExtra">https://CRAN.R-project.org/package=kableExtra</a></div>
</div>
<div id="ref-arango2009classes" class="csl-entry" role="listitem">
<div class="csl-left-margin">7. </div><div class="csl-right-inline">Arango HG. Números de classes e Intervalo de Classes. Em: Bioestatística teórica e computacional. Terceira edição. Guanabara Koogan, RJ; 2009. p. 35–40. </div>
</div>
<div id="ref-rasmussen2009weight" class="csl-entry" role="listitem">
<div class="csl-left-margin">8. </div><div class="csl-right-inline">Rasmussen KM, Yaktine AL, et al. Weight gain during pregnancy: reexamining the guidelines. 2009; </div>
</div>
<div id="ref-field2012graphs" class="csl-entry" role="listitem">
<div class="csl-left-margin">9. </div><div class="csl-right-inline">Field A, Miles J, Field Z. Exploring data with graphs. Em: Discovering statistics using R. Sage Publications, Ltd; 2012. p. 117. </div>
</div>
<div id="ref-wickham2016getting" class="csl-entry" role="listitem">
<div class="csl-left-margin">10. </div><div class="csl-right-inline">Wickham H. Getting Started with ggplot2. Em: ggplot2. Second edition. Springer; 2016. p. 11–31. </div>
</div>
<div id="ref-tufte2001aesthetics" class="csl-entry" role="listitem">
<div class="csl-left-margin">11. </div><div class="csl-right-inline">Tufte ER. Aesthetics and Technique in Data Graphical Design. Em: The Visual Display of Quantitative Information. Second edition. Graphics Press; 2001. p. 178. </div>
</div>
<div id="ref-lemon2015package" class="csl-entry" role="listitem">
<div class="csl-left-margin">12. </div><div class="csl-right-inline">Lemon J, Bolker B, Oom S, et al. Package <span>«plotrix»</span>. Vienna: R Development Core Team. 2015; </div>
</div>
<div id="ref-kabacoff2011graphs" class="csl-entry" role="listitem">
<div class="csl-left-margin">13. </div><div class="csl-right-inline">Kabacoff RI. Basic graphs. Em: R in Action: Data analysis and graphics with R. Manning Publications Co.; 2011. p. 120–4. </div>
</div>
<div id="ref-harrell2022hmisc" class="csl-entry" role="listitem">
<div class="csl-left-margin">14. </div><div class="csl-right-inline">Harrell FE, Dupont C. Hmisc: Harrell Miscellaneous [Internet]. R package version. 2022. Disponível em: <a href="https://cran.r-project.org/web/packages/Hmisc/index.html">https://cran.r-project.org/web/packages/Hmisc/index.html</a></div>
</div>
<div id="ref-wickham2016ggplot2" class="csl-entry" role="listitem">
<div class="csl-left-margin">15. </div><div class="csl-right-inline">Wickham H. ggplot2: Elegant Graphics for Data Analysis [Internet]. Springer-Verlag New York; 2016. Disponível em: <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a></div>
</div>
<div id="ref-wickham2010layered" class="csl-entry" role="listitem">
<div class="csl-left-margin">16. </div><div class="csl-right-inline">Wickham H. A layered grammar of graphics. Journal of Computational and Graphical Statistics. 2010;19(1):3–28. </div>
</div>
</div>
</section>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Usa-se esta sintaxe: <code>round(x, digits = 0)</code>, onde <code>x</code> é o numero que se quer arredondar e <code>digits</code> é número de casas decimais. O padrão é <code>0</code>, ou seja, arredonda para o inteiro mais próximo.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Para maiores detalhes: https://haozhu233.github.io/kableExtra/awesome_table_in_pdf.pdf ou consulte a ajuda digitando no Console <code>?kable()</code> ou <code>help(kable)</code>. Um pacote adicional, <code>kableExtra</code> <span class="citation" data-cites="zhu2021construct">(<a href="references.html#ref-zhu2021construct" role="doc-biblioref">6</a>)</span>, permite opções de formatação simples, melhorando o aspecto da tabela, utilizando-se o operador pipe <code>%&gt;%</code>. O pacote <code>kableExtra</code> foi projetado para estender a funcionalidade básica das tabelas produzidas usando <code>knitr::kable()</code>. Podem ser acrescentadas várias das suas funções como <code>kable_styling()</code> ou <code>kable_classic()</code> para especificar estilos à tabela, como extensão da tabela, alinhamento, tipo e tamanho da fonte<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Poderiam ser transformados em fatores sem trocar os rótulos e manter os números 1 e 2, como se fossem palavras. O autor prefere usar nomes.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Foi escolhido o nome <em>x</em>, porque lembra o eixo <em>X</em>, onde estão as barras<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>para lembrar o eixo <em>Y</em><a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>Outros métodos: “loess”, “gam”, “rlm”. Para mais informações, consulte a ajuda <code>?loess</code>, <code>?gam</code> ou <code>?rlm</code><a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>padrão = 1.5<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>http://www.sthda.com/english/wiki/ggplot2-point-shapes<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>Observe que não foi usado o argumento <code>se = FALSE</code>. Por isso, aparece o intervalo de confiança de 95%.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>É claro, que este aspecto tem uma conotação pessoal. Em publicações, consulte as normas do periódico<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>Veja mais detalhes na <a href="#sec-cores" class="quarto-xref"><span>Seção 6.6.3</span></a><a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>O padrão é <code>width = 0.40</code>. Usando <code>width = 0</code>, teremos uma distribuição dos pontos em uma mesma posição, como o gráfico inicial do Boxplot<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13"><p>O padrão é <code>stat = "identity"</code>, o que significa que os valores das barras de erro devem ser fornecidos diretamente no conjunto de dados, sem cálculos adicionais<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14"><p>Esta função pode ser utilizada para outros gráficos, consulte a ajuda<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15"><p>Podemos aproveitar aqui para trocar os nomes ou , simplesmente, corrigir acentuação que, às vezes, não foi colocada nos níveis<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16"><p>Este procedimento de atribuir a um objeto os comandos que constroem um gráfico, facilita a digitação, pois não é necessário repetir os códigos da Figura @ref(fig:ggbxp4)<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiada");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./05-manipulandoDados.html" class="pagination-link" aria-label="Manipulando os dados no *RStudio*">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Manipulando os dados no <em>RStudio</em></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./07-probabilidades.html" class="pagination-link" aria-label="Introdução à Teoria das Probabilidades">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Introdução à Teoria das Probabilidades</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>